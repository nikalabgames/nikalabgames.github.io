/*! For license information please see instant-games-bridge.js.LICENSE.txt */
(()=>{var t={757:(t,e,r)=>{"use strict";r.d(e,{Z:()=>Ln});var n={VK:"vk",YANDEX:"yandex",CRAZY_GAMES:"crazy_games",ABSOLUTE_GAMES:"absolute_games",GAME_DISTRIBUTION:"game_distribution",MOCK:"mock",VKPLAY:"vk_play"},o={PLATFORM:"platform",PLAYER:"player",GAME:"game",STORAGE:"storage",ADVERTISEMENT:"advertisement",SOCIAL:"social",DEVICE:"device",LEADERBOARD:"leaderboard",PAYMENTS:"payments"},i={INTERSTITIAL_STATE_CHANGED:"interstitial_state_changed",REWARDED_STATE_CHANGED:"rewarded_state_changed",BANNER_STATE_CHANGED:"banner_state_changed",VISIBILITY_STATE_CHANGED:"visibility_state_changed"},a={VISIBLE:"visible",HIDDEN:"hidden"},u={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed"},s={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed",REWARDED:"rewarded"},c={LOADING:"loading",SHOWN:"shown",HIDDEN:"hidden",FAILED:"failed"},l={LOCAL_STORAGE:"local_storage",PLATFORM_INTERNAL:"platform_internal"},f={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet",TV:"tv"},p={GAME_READY:"game_ready",IN_GAME_LOADING_STARTED:"in_game_loading_started",IN_GAME_LOADING_STOPPED:"in_game_loading_stopped",GAMEPLAY_STARTED:"gameplay_started",GAMEPLAY_STOPPED:"gameplay_stopped",PLAYER_GOT_ACHIEVEMENT:"player_got_achievement"},y="initialize",d="authorize_player",h="share",m="invite_friends",v="join_community",b="create_post",g="add_to_home_screen",_="add_to_favorites",S="rate",w="set_leaderboard_score",P="get_leaderboard_score",k="get_leaderboard_entries",E="purchase",O="get_purchases",A="get_catalog",D="consume",T={message:"Before using the SDK you must initialize it"},j={message:"Storage not supported"},I={message:"GameDistribution Game ID is undefined"};function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===R(o)?o:String(o)),n)}var o}function B(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function C(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,M(t,e,"set"),r),r}function N(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,M(t,e,"get"))}function M(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var G=new WeakMap,F=new WeakMap,z=new WeakMap;const W=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,G,{writable:!0,value:void 0}),B(this,F,{writable:!0,value:void 0}),B(this,z,{writable:!0,value:void 0}),C(this,G,new Promise((function(t,r){C(e,F,t),C(e,z,r)})))}var e,r;return e=t,(r=[{key:"promise",get:function(){return N(this,G)}},{key:"resolve",value:function(t){N(this,F).call(this,t)}},{key:"reject",value:function(t){N(this,z).call(this,t)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var x=r(258),K=r.n(x);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q(n.key),n)}}function U(t,e,r){return(e=q(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q(t){var e=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===V(e)?e:String(e)}function J(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var Z=new WeakMap,X=function(){function t(e){var r,n,o,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,"_isInitialized",!1),U(this,"_platformSdk",null),U(this,"_isPlayerAuthorized",!1),U(this,"_playerId",null),U(this,"_playerName",null),U(this,"_playerPhotos",[]),U(this,"_visibilityState",null),U(this,"_localStorage",null),U(this,"_defaultStorageType",l.LOCAL_STORAGE),U(this,"_platformStorageCachedData",null),U(this,"_isBannerSupported",!1),U(this,"_interstitialState",null),U(this,"_rewardedState",null),U(this,"_bannerState",null),o={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,n=Z),n.set(r,o);try{this._localStorage=window.localStorage}catch(t){}this._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,document.addEventListener("visibilitychange",(function(){u._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,u.emit(i.VISIBILITY_STATE_CHANGED,u._visibilityState)})),e&&(this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach((function(e){U(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e))}var e,r;return e=t,(r=[{key:"platformId",get:function(){return n.MOCK}},{key:"platformSdk",get:function(){return this._platformSdk}},{key:"platformLanguage",get:function(){var t=navigator.language;return"string"==typeof t?t.substring(0,2).toLowerCase():"en"}},{key:"platformPayload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"platformTld",get:function(){return null}},{key:"visibilityState",get:function(){return this._visibilityState}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"defaultStorageType",get:function(){return this._defaultStorageType}},{key:"isBannerSupported",get:function(){return this._isBannerSupported}},{key:"bannerState",get:function(){return this._bannerState}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"isRateSupported",get:function(){return!1}},{key:"isExternalLinksAllowed",get:function(){return!1}},{key:"isPaymentsSupported",get:function(){return!1}},{key:"deviceType",get:function(){if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(t))return f.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(t))return f.TABLET}return f.DESKTOP}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!1}},{key:"isLeaderboardSetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!1}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"sendMessage",value:function(t){return Promise.resolve()}},{key:"authorizePlayer",value:function(t){return Promise.reject()}},{key:"isStorageSupported",value:function(t){return t===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"isStorageAvailable",value:function(t){return t===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"getDataFromStorage",value:function(t,e){if(e===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this._getDataFromLocalStorage(t[n]));return Promise.resolve(r)}var o=this._getDataFromLocalStorage(t);return Promise.resolve(o)}return Promise.reject(j)}return Promise.reject(j)}},{key:"setDataToStorage",value:function(t,e,r){if(r===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this._setDataToLocalStorage(t[n],e[n]);return Promise.resolve()}return this._setDataToLocalStorage(t,e),Promise.resolve()}return Promise.reject(j)}return Promise.reject(j)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this._deleteDataFromLocalStorage(t[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(t),Promise.resolve()}return Promise.reject(j)}return Promise.reject(j)}},{key:"showBanner",value:function(t){this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){this._setRewardedState(s.FAILED)}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(t){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"rate",value:function(){return Promise.reject()}},{key:"setLeaderboardScore",value:function(t){return Promise.reject()}},{key:"getLeaderboardScore",value:function(t){return Promise.reject()}},{key:"getLeaderboardEntries",value:function(t){return Promise.reject()}},{key:"showLeaderboardNativePopup",value:function(t){return Promise.reject()}},{key:"paymentsPurchase",value:function(t){return Promise.reject()}},{key:"paymentsConsume",value:function(t){return Promise.reject()}},{key:"paymentsGetPurchases",value:function(){return Promise.reject()}},{key:"paymentsGetCatalog",value:function(){return Promise.reject()}},{key:"_getDataFromLocalStorage",value:function(t){var e=this._localStorage.getItem(t);if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},{key:"_setDataToLocalStorage",value:function(t,e){"object"===V(e)&&(e=JSON.stringify(e)),this._localStorage.setItem(t,e)}},{key:"_deleteDataFromLocalStorage",value:function(t){this._localStorage.removeItem(t)}},{key:"_setInterstitialState",value:function(t){this._interstitialState===t&&t!==u.FAILED||(this._interstitialState=t,this.emit(i.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}},{key:"_setRewardedState",value:function(t){this._rewardedState===t&&t!==s.FAILED||(this._rewardedState=t,this.emit(i.REWARDED_STATE_CHANGED,this._rewardedState))}},{key:"_setBannerState",value:function(t){this._bannerState===t&&t!==c.FAILED||(this._bannerState=t,this.emit(i.BANNER_STATE_CHANGED,this._bannerState))}},{key:"_createPromiseDecorator",value:function(t){var e=new W;return J(this,Z)[t]=e,e}},{key:"_getPromiseDecorator",value:function(t){return J(this,Z)[t]}},{key:"_resolvePromiseDecorator",value:function(t,e){J(this,Z)[t]&&(J(this,Z)[t].resolve(e),delete J(this,Z)[t])}},{key:"_rejectPromiseDecorator",value:function(t,e){J(this,Z)[t]&&(J(this,Z)[t].reject(e),delete J(this,Z)[t])}}])&&Y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();K().mixin(X.prototype);const Q=X;var $=function(t){return new Promise((function(e){var r=document.createElement("script");r.src=t,r.addEventListener("load",e),document.head.appendChild(r)}))};function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===tt(o)?o:String(o)),n)}var o}function rt(){return rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=it(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},rt.apply(this,arguments)}function nt(t,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nt(t,e)}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function at(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ut(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function st(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ct(t,e,"get"))}function ct(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var lt=new WeakMap,ft=new WeakSet;function pt(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"result",i=this._getPromiseDecorator(t);return i||(i=this._createPromiseDecorator(t),this._platformSdk.send(e,n).then((function(e){e[o]?r._resolvePromiseDecorator(t):r._rejectPromiseDecorator(t)})).catch((function(e){r._rejectPromiseDecorator(t,e)}))),i.promise}const yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(p,t);var e,r,o,i,a=(o=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=it(o);if(i){var r=it(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ot(t)}(this,t)});function p(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return at(e=ot(t=a.call.apply(a,[this].concat(o))),r=ft),r.add(e),function(t,e,r){at(t,e),e.set(t,{writable:!0,value:void 0})}(ot(t),lt),t}return e=p,(r=[{key:"platformId",get:function(){return n.VK}},{key:"platformLanguage",get:function(){var t=new URL(window.location.href);if(t.searchParams.has("language")){var e=t.searchParams.get("language");try{e=parseInt(e)}catch(t){}switch(e){case 0:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}}return rt(it(p.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var t=new URL(window.location.href);return t.searchParams.has("hash")?t.searchParams.get("hash"):rt(it(p.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){if(st(this,lt))switch(st(this,lt)){case"html5_ios":case"html5_android":case"html5_mobile":return f.MOBILE;case"web":return f.DESKTOP}return rt(it(p.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return"html5_android"===st(this,lt)}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardNativePopupSupported",get:function(){return this.deviceType===f.MOBILE}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r,n,o=this._getPromiseDecorator(y);if(!o){o=this._createPromiseDecorator(y);var i=new URL(window.location.href);i.searchParams.has("platform")&&(e=this,r=lt,n=i.searchParams.get("platform"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(e,ct(e,r,"set"),n)),$("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){t._platformSdk=window.vkBridge,t._platformSdk.send("VKWebAppInit").then((function(){"html5_android"!==st(t,lt)&&"html5_ios"!==st(t,lt)||(t._isBannerSupported=!0),t._platformSdk.send("VKWebAppGetUserInfo").then((function(e){e&&(t._playerId=e.id,t._playerName=e.first_name+" "+e.last_name,e.photo_100&&t._playerPhotos.push(e.photo_100),e.photo_200&&t._playerPhotos.push(e.photo_200),e.photo_max_orig&&t._playerPhotos.push(e.photo_max_orig))})).finally((function(){t._isInitialized=!0,t._defaultStorageType=l.PLATFORM_INTERNAL,t._resolvePromiseDecorator(y)}))}))}))}return o.promise}},{key:"authorizePlayer",value:function(t){return Promise.resolve()}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||rt(it(p.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL||rt(it(p.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){var o=Array.isArray(t)?t:[t];r._platformSdk.send("VKWebAppStorageGet",{keys:o}).then((function(r){if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o++)if(""!==r.keys[o].value){var i=void 0;try{i=JSON.parse(r.keys[o].value)}catch(t){i=r.keys[o].value}n.push(i)}else n.push(null);e(n)}else if(""!==r.keys[0].value){var a;try{a=JSON.parse(r.keys[0].value)}catch(t){a=r.keys[0].value}e(a)}else e(null)})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?n(t.error_data.error_reason):n()}))})):rt(it(p.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;if(r===l.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a={key:t[i],value:e[i]};"string"!=typeof e[i]&&(a.value=JSON.stringify(e[i])),o.push(this._platformSdk.send("VKWebAppStorageSet",a))}return Promise.all(o)}var u={key:t,value:e};return"string"!=typeof e&&(u.value=JSON.stringify(e)),new Promise((function(t,e){n._platformSdk.send("VKWebAppStorageSet",u).then((function(){t()})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?e(t.error_data.error_reason):e()}))}))}return rt(it(p.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===l.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this.setDataToStorage(t[n],"",e));return Promise.all(r)}return this.setDataToStorage(t,"",e)}return rt(it(p.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(t){var e=this,r="bottom",n="resize",o=!1;t&&("string"==typeof t.position&&(r=t.position),"string"==typeof t.layoutType&&(n=t.layoutType),"boolean"==typeof t.canClose&&(o=t.canClose)),this._platformSdk.send("VKWebAppShowBannerAd",{banner_location:r,layout_type:n,can_close:o}).then((function(t){t.result?e._setBannerState(c.SHOWN):e._setBannerState(c.FAILED)})).catch((function(t){e._setBannerState(c.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.send("VKWebAppHideBannerAd").then((function(e){e.result&&t._setBannerState(c.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((function(e){e.result&&t._setInterstitialState(u.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(e){t._setInterstitialState(e.result?u.CLOSED:u.FAILED)})).catch((function(){t._setInterstitialState(u.FAILED)}))}))}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result&&t._setRewardedState(s.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result?(t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setRewardedState(s.FAILED)})).catch((function(){t._setRewardedState(s.FAILED)}))}))}},{key:"inviteFriends",value:function(){return ut(this,ft,pt).call(this,m,"VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(t){if(!t||!t.groupId)return Promise.reject();var e=t.groupId;return"string"==typeof e&&(e=parseInt(e),isNaN(e))?Promise.reject():ut(this,ft,pt).call(this,v,"VKWebAppJoinGroup",{group_id:e}).then((function(){window.open("https://vk.com/public"+e)}))}},{key:"share",value:function(t){var e={};return t&&t.link&&(e.link=t.link),ut(this,ft,pt).call(this,h,"VKWebAppShare",e,"type")}},{key:"createPost",value:function(t){var e={};return t&&t.message&&(e.message=t.message),t&&t.attachments&&(e.attachments=t.attachments),ut(this,ft,pt).call(this,b,"VKWebAppShowWallPostBox",e,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?ut(this,ft,pt).call(this,g,"VKWebAppAddToHomeScreen"):Promise.reject()}},{key:"addToFavorites",value:function(){return ut(this,ft,pt).call(this,_,"VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(t){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!t||!t.userResult)return Promise.reject();var e={user_result:t.userResult};return"boolean"==typeof t.global&&(e.global=t.global?1:0),ut(this,ft,pt).call(this,"show_leaderboard_native_popup","VKWebAppShowLeaderBoardBox",e)}}])&&et(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(Q);function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=bt(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bt(n.key),n)}}function bt(t){var e=function(t,e){if("object"!==dt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===dt(e)?e:String(e)}function gt(){return gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},gt.apply(this,arguments)}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}function Pt(t,e,r){kt(t,e),e.set(t,r)}function kt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Et(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Dt(t,e,"set"),r),r}function Ot(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function At(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Dt(t,e,"get"))}function Dt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Tt=new WeakMap,jt=new WeakMap,It=new WeakMap,Rt=new WeakMap,Lt=new WeakSet;function Bt(t){var e=this;return new Promise((function(r){var n={scopes:!0};t&&"boolean"==typeof t.scopes&&(n.scopes=t.scopes),e._platformSdk.getPlayer(n).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized="lite"!==t.getMode();var r=t.getName();""!==r&&(e._playerName=r),e._playerPhotos=[];var n=t.getPhoto("small"),o=t.getPhoto("medium"),i=t.getPhoto("large");n&&e._playerPhotos.push(n),o&&e._playerPhotos.push(o),i&&e._playerPhotos.push(i),Et(e,jt,t)})).finally((function(){r()}))}))}const Ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(h,t);var e,r,o,i,a=(o=h,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wt(o);if(i){var r=wt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return St(t)}(this,t)});function h(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return kt(e=St(t=a.call.apply(a,[this].concat(o))),r=Lt),r.add(e),Pt(St(t),Tt,{writable:!0,value:!1}),Pt(St(t),jt,{writable:!0,value:null}),Pt(St(t),It,{writable:!0,value:null}),Pt(St(t),Rt,{writable:!0,value:null}),t}return e=h,(r=[{key:"platformId",get:function(){return n.YANDEX}},{key:"platformLanguage",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():gt(wt(h.prototype),"platformLanguage",this)}},{key:"platformTld",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():gt(wt(h.prototype),"platformTld",this)}},{key:"deviceType",get:function(){if(this._platformSdk)switch(this._platformSdk.deviceInfo.type){case f.DESKTOP:return f.DESKTOP;case f.MOBILE:return f.MOBILE;case f.TABLET:return f.TABLET;case f.TV:return f.TV}return gt(wt(h.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return At(this,Tt)}},{key:"isRateSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!0}},{key:"isLeaderboardSetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!0}},{key:"isPaymentsSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y);return e||(e=this._createPromiseDecorator(y),this._options&&"string"==typeof this._options.metrikaId&&addMetrikaJavaScript(this._options.metrikaId),$("https://yandex.ru/games/sdk/v2").then((function(){window.YaGames.init().then((function(e){t._platformSdk=e;var r=Ot(t,Lt,Bt).call(t),n=t._platformSdk.getStorage().then((function(e){t._localStorage=e})),o=t._platformSdk.shortcut.canShowPrompt().then((function(e){Et(t,Tt,e.canShow)})),i=t._platformSdk.getLeaderboards().then((function(e){Et(t,Rt,e)}));t._isBannerSupported=!0;var a=t._platformSdk.adv.getBannerAdvStatus().then((function(e){e.stickyAdvIsShowing&&t._setBannerState(c.SHOWN)})),u=t._platformSdk.getPayments().then((function(e){Et(t,It,e)}));Promise.all([r,n,o,i,a,u]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE,t._resolvePromiseDecorator(y)}))}))}))),e.promise}},{key:"sendMessage",value:function(t){var e;return t===p.GAME_READY?(null===(e=this._platformSdk.features.LoadingAPI)||void 0===e||e.ready(),Promise.resolve()):gt(wt(h.prototype),"sendMessage",this).call(this,t)}},{key:"authorizePlayer",value:function(t){var e=this,r=this._getPromiseDecorator(d);return r||(r=this._createPromiseDecorator(d),this._isPlayerAuthorized?Ot(this,Lt,Bt).call(this,t).then((function(){e._resolvePromiseDecorator(d)})):this._platformSdk.auth.openAuthDialog().then((function(){Ot(e,Lt,Bt).call(e,t).then((function(){e._resolvePromiseDecorator(d)}))})).catch((function(t){e._rejectPromiseDecorator(d,t)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||gt(wt(h.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:gt(wt(h.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else At(r,jt)?At(r,jt).getData().then((function(n){if(r._platformStorageCachedData=n,Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}e(o)}else e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])})).catch((function(t){n(t)})):n()})):gt(wt(h.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(r,o){if(At(n,jt)){var i=null!==n._platformStorageCachedData?mt({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;At(n,jt).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){o(t)}))}else o()})):gt(wt(h.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(At(r,jt)){var o=null!==r._platformStorageCachedData?mt({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];At(r,jt).setData(o).then((function(){r._platformStorageCachedData=o,e()})).catch((function(t){n(t)}))}else n()})):gt(wt(h.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(t){var e=this;this._platformSdk.adv.showBannerAdv().then((function(t){t.stickyAdvIsShowing?e._setBannerState(c.SHOWN):e._setBannerState(c.FAILED)})).catch((function(t){e._setBannerState(c.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.adv.hideBannerAdv().then((function(e){e.stickyAdvIsShowing||t._setBannerState(c.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){t._setInterstitialState(u.OPENED)},onClose:function(e){e?t._setInterstitialState(u.CLOSED):t._setInterstitialState(u.FAILED)}}})}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t._setRewardedState(s.OPENED)},onRewarded:function(){t._setRewardedState(s.REWARDED)},onClose:function(){t._setRewardedState(s.CLOSED)},onError:function(e){t._setRewardedState(s.FAILED)}}})}},{key:"addToHomeScreen",value:function(){var t=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var e=this._getPromiseDecorator(g);return e||(e=this._createPromiseDecorator(g),this._platformSdk.shortcut.showPrompt().then((function(e){"accepted"!==e.outcome?t._rejectPromiseDecorator(g):t._resolvePromiseDecorator(g)})).catch((function(e){t._rejectPromiseDecorator(g,e)}))),e.promise}},{key:"rate",value:function(){var t=this,e=this._getPromiseDecorator(S);return e||(e=this._createPromiseDecorator(S),this._platformSdk.feedback.canReview().then((function(e){e.value?t._platformSdk.feedback.requestReview().then((function(e){e.feedbackSent?t._resolvePromiseDecorator(S):t._rejectPromiseDecorator(S)})).catch((function(e){t._rejectPromiseDecorator(S,e)})):t._rejectPromiseDecorator(S,e.reason)})).catch((function(e){t._rejectPromiseDecorator(S,e)}))),e.promise}},{key:"setLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!(At(this,Rt)&&t&&t.score&&t.leaderboardName))return Promise.reject();var r=this._getPromiseDecorator(w);return r||(r=this._createPromiseDecorator(w),"string"==typeof t.score&&(t.score=parseInt(t.score)),At(this,Rt).setLeaderboardScore(t.leaderboardName,t.score).then((function(){e._resolvePromiseDecorator(w)})).catch((function(t){e._rejectPromiseDecorator(w,t)}))),r.promise}},{key:"getLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!At(this,Rt)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(P);return r||(r=this._createPromiseDecorator(P),At(this,Rt).getLeaderboardPlayerEntry(t.leaderboardName).then((function(t){e._resolvePromiseDecorator(P,t.score)})).catch((function(t){e._rejectPromiseDecorator(P,t)}))),r.promise}},{key:"getLeaderboardEntries",value:function(t){var e=this;if(!At(this,Rt)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(k);if(!r){r=this._createPromiseDecorator(k);var n={includeUser:!1,quantityAround:5,quantityTop:5};"boolean"==typeof t.includeUser&&(n.includeUser=t.includeUser),"string"==typeof t.quantityAround&&(t.quantityAround=parseInt(t.quantityAround)),"number"==typeof t.quantityAround&&(n.quantityAround=t.quantityAround),"string"==typeof t.quantityTop&&(t.quantityTop=parseInt(t.quantityTop)),"number"==typeof t.quantityTop&&(n.quantityTop=t.quantityTop),At(this,Rt).getLeaderboardEntries(t.leaderboardName,n).then((function(t){var r=null;t&&t.entries.length>0&&(r=t.entries.map((function(t){var e=[],r=t.player.getAvatarSrc("small"),n=t.player.getAvatarSrc("medium"),o=t.player.getAvatarSrc("large");return r&&e.push(r),n&&e.push(n),o&&e.push(o),{id:t.player.uniqueID,score:t.score,rank:t.rank,name:t.player.publicName,photos:e}}))),e._resolvePromiseDecorator(k,r)})).catch((function(t){e._rejectPromiseDecorator(k,t)}))}return r.promise}},{key:"paymentsPurchase",value:function(t){var e=this;if(!At(this,It)||!t||!t.id)return Promise.reject();var r=this._getPromiseDecorator(E);return r||(r=this._createPromiseDecorator(E),At(this,It).purchase(t).then((function(t){e._resolvePromiseDecorator(E,t)})).catch((function(t){e._rejectPromiseDecorator(E,t)}))),r.promise}},{key:"paymentsConsume",value:function(t){var e=this;if(!At(this,It))return Promise.reject();var r=this._getPromiseDecorator(D);return r||(r=this._createPromiseDecorator(D),At(this,It).consumePurchase(t).then((function(t){e._resolvePromiseDecorator(D,t)})).catch((function(t){e._rejectPromiseDecorator(D,t)}))),r.promise}},{key:"paymentsGetPurchases",value:function(){var t=this;if(!At(this,It))return Promise.reject();var e=this._getPromiseDecorator(O);return e||(e=this._createPromiseDecorator(O),At(this,It).getPurchases().then((function(e){t._resolvePromiseDecorator(O,e)})).catch((function(e){t._rejectPromiseDecorator(O,e)}))),e.promise}},{key:"paymentsGetCatalog",value:function(){var t=this;if(!At(this,It))return Promise.reject();var e=this._getPromiseDecorator(A);return e||(e=this._createPromiseDecorator(A),At(this,It).getCatalog().then((function(e){t._resolvePromiseDecorator(A,e)})).catch((function(e){t._rejectPromiseDecorator(A,e)}))),e.promise}}])&&vt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(Q);function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gt(n.key),n)}}function Gt(t){var e=function(t,e){if("object"!==Nt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Nt(e)?e:String(e)}const Ft=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=void 0,(n=Gt(n="_platformBridge"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=e}var e,r;return e=t,(r=[{key:"initialize",value:function(){return Promise.resolve()}}])&&Mt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===zt(o)?o:String(o)),n)}var o}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xt(t,e)}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}const Vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kt(n);if(o){var r=Kt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"id",get:function(){return this._platformBridge.platformId}},{key:"sdk",get:function(){return this._platformBridge.platformSdk}},{key:"language",get:function(){return this._platformBridge.platformLanguage}},{key:"payload",get:function(){return this._platformBridge.platformPayload}},{key:"tld",get:function(){return this._platformBridge.platformTld}},{key:"sendMessage",value:function(t){return this._platformBridge.sendMessage(t)}}])&&Wt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ht(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ht(o)?o:String(o)),n)}var o}function Ut(t,e){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ut(t,e)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}const Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qt(n);if(o){var r=qt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isAuthorizationSupported",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:"id",get:function(){return this._platformBridge.playerId}},{key:"name",get:function(){return this._platformBridge.playerName}},{key:"photos",get:function(){return this._platformBridge.playerPhotos}},{key:"authorize",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.authorize(e)}return this._platformBridge.authorizePlayer(t)}}])&&Yt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Zt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Zt(o)?o:String(o)),n)}var o}function Qt(t,e){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qt(t,e)}function $t(t){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(t)}var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e)}(u,t);var e,r,n,o,a=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$t(n);if(o){var r=$t(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t))._platformBridge.on(i.VISIBILITY_STATE_CHANGED,(function(t){return e.emit(i.VISIBILITY_STATE_CHANGED,t)})),e}return e=u,(r=[{key:"visibilityState",get:function(){return this._platformBridge.visibilityState}}])&&Xt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ft);K().mixin(te.prototype);const ee=te;function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==re(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===re(o)?o:String(o)),n)}var o}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}function ie(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(t)}function ue(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var se=new WeakMap;const ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ae(n);if(o){var r=ae(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ie(t)}(this,t)});function a(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return e=ie(t=i.call.apply(i,[this].concat(u))),n={writable:!0,value:[]},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r=se),r.set(e,n),t}return e=a,(r=[{key:"defaultType",get:function(){return this._platformBridge.defaultStorageType}},{key:"isSupported",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageSupported(t)}},{key:"isAvailable",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageAvailable(t)}},{key:"get",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.get(t,n)}var o=e;o||(o=this.defaultType);var i=ue(this,se)[o];return i&&void 0!==i[t]?Promise.resolve(i[t]):this._platformBridge.getDataFromStorage(t,o).then((function(e){return r._addToCache(o,t,e),e}))}},{key:"set",value:function(t,e,r){var n=this;if(r){var o=r[this._platformBridge.platformId];if(o)return this.set(t,e,o)}var i=r;return i||(i=this.defaultType),this._platformBridge.setDataToStorage(t,e,i).then((function(){return n._addToCache(i,t,e)}))}},{key:"delete",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.delete(t,n)}var o=e;return o||(o=this.defaultType),this._platformBridge.deleteDataFromStorage(t,o).then((function(){return r._deleteFromCache(o,t)}))}},{key:"_addToCache",value:function(t,e,r){if(ue(this,se)[t]||(ue(this,se)[t]=[]),Array.isArray(e))for(var n=0;n<e.length;n++)ue(this,se)[t][e[n]]=r[e[n]];else ue(this,se)[t][e]=r}},{key:"_deleteFromCache",value:function(t,e){if(ue(this,se)[t])if(Array.isArray(e))for(var r=0;r<e.length;r++)delete ue(this,se)[t][e[r]];else delete ue(this,se)[t][e]}}])&&ne(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==le(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===le(o)?o:String(o)),n)}var o}function pe(t,e){de(t,e),e.add(t)}function ye(t,e,r){de(t,e),e.set(t,r)}function de(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function he(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function me(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,be(t,e,"set"),r),r}function ve(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,be(t,e,"get"))}function be(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var ge="created",_e="completed",Se=new WeakMap,we=new WeakMap,Pe=new WeakMap,ke=new WeakMap,Ee=new WeakSet,Oe=new WeakSet,Ae=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pe(this,Oe),pe(this,Ee),ye(this,Se,{writable:!0,value:0}),ye(this,we,{writable:!0,value:0}),ye(this,Pe,{writable:!0,value:ge}),ye(this,ke,{writable:!0,value:0}),me(this,Se,e)}var e,r;return e=t,(r=[{key:"state",get:function(){return ve(this,Pe)}},{key:"start",value:function(){var t=this;switch(ve(this,Pe)){case ge:case _e:me(this,we,ve(this,Se)),he(this,Ee,De).call(this,"started"),me(this,ke,setInterval((function(){me(t,we,ve(t,we)-1),t.emit("time_left_changed",ve(t,we)),ve(t,we)<=0&&(he(t,Oe,Te).call(t),he(t,Ee,De).call(t,_e))}),1e3))}}},{key:"stop",value:function(){he(this,Oe,Te).call(this),he(this,Ee,De).call(this,"stopped")}}])&&fe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function De(t){me(this,Pe,t),this.emit("state_changed",ve(this,Pe))}function Te(){me(this,we,0),clearInterval(ve(this,ke))}K().mixin(Ae.prototype);const je=Ae;function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ie(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ie(o)?o:String(o)),n)}var o}function Le(t,e){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Le(t,e)}function Be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ce(t){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ce(t)}function Ne(t,e){Ge(t,e),e.add(t)}function Me(t,e,r){Ge(t,e),e.set(t,r)}function Ge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Fe(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,xe(t,e,"set"),r),r}function ze(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function We(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,xe(t,e,"get"))}function xe(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Ke=new WeakMap,Ve=new WeakMap,He=new WeakSet,Ye=new WeakSet,Ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(l,t);var e,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ce(n);if(o){var r=Ce(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Be(t)}(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),Ne(Be(e=a.call(this,t)),Ye),Ne(Be(e),He),Me(Be(e),Ke,{writable:!0,value:void 0}),Me(Be(e),Ve,{writable:!0,value:60}),e._platformBridge.on(i.INTERSTITIAL_STATE_CHANGED,(function(t){t===u.CLOSED&&We(Be(e),Ve)>0&&ze(Be(e),He,qe).call(Be(e)),e.emit(i.INTERSTITIAL_STATE_CHANGED,t)})),e._platformBridge.on(i.REWARDED_STATE_CHANGED,(function(t){return e.emit(i.REWARDED_STATE_CHANGED,t)})),e._platformBridge.on(i.BANNER_STATE_CHANGED,(function(t){return e.emit(i.BANNER_STATE_CHANGED,t)})),e}return e=l,(r=[{key:"isBannerSupported",get:function(){return this._platformBridge.isBannerSupported}},{key:"bannerState",get:function(){return this._platformBridge.bannerState}},{key:"interstitialState",get:function(){return this._platformBridge.interstitialState}},{key:"rewardedState",get:function(){return this._platformBridge.rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return We(this,Ve)}},{key:"setMinimumDelayBetweenInterstitial",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(void 0!==e)return this.setMinimumDelayBetweenInterstitial(e)}var r=Ie(t),n=We(this,Ve);switch(r){case"number":n=t;break;case"string":if(n=parseInt(t),isNaN(n))return}Fe(this,Ve,n),We(this,Ke)&&(We(this,Ke).stop(),ze(this,He,qe).call(this))}},{key:"showBanner",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showBanner(e)}if(this.bannerState)switch(this.bannerState){case c.LOADING:case c.SHOWN:return}this._platformBridge._setBannerState(c.LOADING),this.isBannerSupported?this._platformBridge.showBanner(t):this._platformBridge._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){if(this.bannerState)switch(this.bannerState){case c.LOADING:case c.HIDDEN:return}this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:"showInterstitial",value:function(t){if(!ze(this,Ye,Je).call(this)){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showInterstitial(e)}var r=!1;t&&"boolean"==typeof t.ignoreDelay&&(r=t.ignoreDelay),this._platformBridge._setInterstitialState(u.LOADING),!We(this,Ke)||We(this,Ke).state===_e||r?this._platformBridge.showInterstitial():this._platformBridge._setInterstitialState(u.FAILED)}}},{key:"showRewarded",value:function(){ze(this,Ye,Je).call(this)||(this._platformBridge._setRewardedState(s.LOADING),this._platformBridge.showRewarded())}}])&&Re(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(Ft);function qe(){Fe(this,Ke,new je(We(this,Ve))),We(this,Ke).start()}function Je(){if(this.interstitialState)switch(this.interstitialState){case u.LOADING:case u.OPENED:return!0}if(this.rewardedState)switch(this.rewardedState){case s.LOADING:case s.OPENED:case s.REWARDED:return!0}return!1}K().mixin(Ue.prototype);const Ze=Ue;function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Xe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Xe(o)?o:String(o)),n)}var o}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}function tr(t){return tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tr(t)}const er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tr(n);if(o){var r=tr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isInviteFriendsSupported",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return this._platformBridge.isShareSupported}},{key:"isCreatePostSupported",get:function(){return this._platformBridge.isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:"isRateSupported",get:function(){return this._platformBridge.isRateSupported}},{key:"isExternalLinksAllowed",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:"inviteFriends",value:function(){return this._platformBridge.inviteFriends()}},{key:"joinCommunity",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.joinCommunity(e)}return this._platformBridge.joinCommunity(t)}},{key:"share",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.share(e)}return this._platformBridge.share(t)}},{key:"createPost",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.createPost(e)}return this._platformBridge.createPost(t)}},{key:"addToHomeScreen",value:function(){return this._platformBridge.addToHomeScreen()}},{key:"addToFavorites",value:function(){return this._platformBridge.addToFavorites()}},{key:"rate",value:function(){return this._platformBridge.rate()}}])&&Qe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function rr(t){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(t)}function nr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==rr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===rr(o)?o:String(o)),n)}var o}function or(t,e){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},or(t,e)}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}const ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&or(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ir(n);if(o){var r=ir(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===rr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"type",get:function(){return this._platformBridge.deviceType}}])&&nr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ur(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ur(o)?o:String(o)),n)}var o}function cr(t,e){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cr(t,e)}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lr(t)}const fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lr(n);if(o){var r=lr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:"isNativePopupSupported",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:"isMultipleBoardsSupported",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:"isSetScoreSupported",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:"isGetScoreSupported",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:"isGetEntriesSupported",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:"setScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.setScore(e)}return this._platformBridge.setLeaderboardScore(t)}},{key:"getScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getScore(e)}return this._platformBridge.getLeaderboardScore(t)}},{key:"getEntries",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getEntries(e)}return this._platformBridge.getLeaderboardEntries(t)}},{key:"showNativePopup",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.showNativePopup(e)}return this._platformBridge.showLeaderboardNativePopup(t)}}])&&sr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function yr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===pr(o)?o:String(o)),n)}var o}function dr(t,e){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dr(t,e)}function hr(t){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hr(t)}const mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hr(n);if(o){var r=hr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isPaymentsSupported}},{key:"purchase",value:function(t){return this._platformBridge.paymentsPurchase(t)}},{key:"consume",value:function(t){return this._platformBridge.paymentsConsume(t)}},{key:"getPurchases",value:function(){return this._platformBridge.paymentsGetPurchases()}},{key:"getCatalog",value:function(){return this._platformBridge.paymentsGetCatalog()}}])&&yr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}function br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==vr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===vr(o)?o:String(o)),n)}var o}function gr(){return gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},gr.apply(this,arguments)}function _r(t,e){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_r(t,e)}function Sr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}function Pr(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function kr(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Or(t,e,"set"),r),r}function Er(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Or(t,e,"get"))}function Or(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Ar=new WeakMap,Dr=new WeakMap;const Tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_r(t,e)}(d,t);var e,r,o,i,a=(o=d,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wr(o);if(i){var r=wr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===vr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sr(t)}(this,t)});function d(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Pr(Sr(t=a.call.apply(a,[this].concat(r))),Ar,{writable:!0,value:null}),Pr(Sr(t),Dr,{writable:!0,value:!1}),t}return e=d,(r=[{key:"platformId",get:function(){return n.CRAZY_GAMES}},{key:"platformLanguage",get:function(){return Er(this,Ar)?Er(this,Ar).countryCode.toLowerCase():gr(wr(d.prototype),"platformLanguage",this)}},{key:"deviceType",get:function(){if(Er(this,Ar))switch(Er(this,Ar).device.type.toLowerCase()){case f.DESKTOP:return f.DESKTOP;case f.MOBILE:return f.MOBILE;case f.TABLET:return f.TABLET}return gr(wr(d.prototype),"deviceType",this)}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y);return e||(e=this._createPromiseDecorator(y),$("https://sdk.crazygames.com/crazygames-sdk-v1.js").then((function(){t._platformSdk=window.CrazyGames.CrazySDK.getInstance(),t._platformSdk.addEventListener("initialized",(function(e){kr(t,Ar,e.userInfo),t._isInitialized=!0,t._resolvePromiseDecorator(y)})),t._platformSdk.addEventListener("adStarted",(function(){Er(t,Dr)?t._setRewardedState(s.OPENED):t._setInterstitialState(u.OPENED)})),t._platformSdk.addEventListener("adFinished",(function(){Er(t,Dr)?(t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setInterstitialState(u.CLOSED)})),t._platformSdk.addEventListener("adError",(function(){Er(t,Dr)?t._setRewardedState(s.FAILED):t._setInterstitialState(u.FAILED)})),t._platformSdk.addEventListener("bannerRendered",(function(e){t._setBannerState(c.SHOWN)})),t._platformSdk.addEventListener("bannerError",(function(e){t._setBannerState(c.FAILED)})),t._defaultStorageType=l.LOCAL_STORAGE,t._isBannerSupported=!0,t._platformSdk.init()}))),e.promise}},{key:"sendMessage",value:function(t){switch(t){case p.IN_GAME_LOADING_STARTED:return this._platformSdk.sdkGameLoadingStart(),Promise.resolve();case p.IN_GAME_LOADING_STOPPED:return this._platformSdk.sdkGameLoadingStop(),Promise.resolve();case p.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case p.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();case p.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.happytime(),Promise.resolve()}return gr(wr(d.prototype),"sendMessage",this).call(this,t)}},{key:"showBanner",value:function(t){t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.requestResponsiveBanner([t.containerId]):this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._platformSdk.clearAllBanners(),this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){kr(this,Dr,!1),this._platformSdk.requestAd("midgame")}},{key:"showRewarded",value:function(){kr(this,Dr,!0),this._platformSdk.requestAd("rewarded")}}])&&br(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(Q);function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Ir(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ir(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Br(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Br(n.key),n)}}function Br(t){var e=function(t,e){if("object"!==jr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===jr(e)?e:String(e)}function Cr(){return Cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Cr.apply(this,arguments)}function Nr(t,e){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nr(t,e)}function Mr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gr(t){return Gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gr(t)}var Fr=new WeakSet;function zr(){var t=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized="false"===this._platformSdk.options.guest,new Promise((function(e){t._platformSdk.getUsers([t._playerId],(function(r,n){if(r&&1===r.length){var o=r[0];t._playerName=o.full_name,""!==o.avatar&&(t._playerPhotos=[o.avatar])}e()}))}))}const Wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(c,t);var e,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gr(o);if(i){var r=Gr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===jr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mr(t)}(this,t)});function c(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=Mr(t=a.call.apply(a,[this].concat(o))),r=Fr),r.add(e),t}return e=c,(r=[{key:"platformId",get:function(){return n.ABSOLUTE_GAMES}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y);return e||(e=this._createPromiseDecorator(y),$("https://unpkg.com/@agru/sdk/dist/umd/index.min.js").then((function(){t._platformSdk=new AgRuSdk,t._platformSdk.on(AgRuSdkMethods.ShowCampaign,(function(e,r){switch(e.type){case"default":null===r?e.status?t._setInterstitialState(u.OPENED):t._setInterstitialState(u.CLOSED):t._setInterstitialState(u.FAILED);break;case"rewarded":null===r?e.status?t._setRewardedState(s.OPENED):(e.reward&&t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setRewardedState(s.FAILED)}}));var e=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}(t,Fr,zr).call(t);Promise.all([e]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE,t._resolvePromiseDecorator(y)}))}))),e.promise}},{key:"authorizePlayer",value:function(t){var e=this;if(this._isPlayerAuthorized)return Promise.resolve();var r=this._getPromiseDecorator(d);return r||(r=this._createPromiseDecorator(d),this._platformSdk.authorize((function(t,r){null===r?e._resolvePromiseDecorator(d):e._rejectPromiseDecorator(d,r)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||Cr(Gr(c.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:Cr(Gr(c.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else r._isPlayerAuthorized?r._platformSdk.getSaveData((function(o,i){if(null===i){if(null===o&&(o={}),r._platformStorageCachedData=o,Array.isArray(t)){for(var a=[],u=0;u<t.length;u++){var s=void 0===r._platformStorageCachedData[t[u]]?null:r._platformStorageCachedData[t[u]];a.push(s)}return void e(a)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else n(i)})):n()})):Cr(Gr(c.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?Rr({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n._platformSdk.setSaveData(i,(function(t,e){null===e&&(n._platformStorageCachedData=i,r()),o(e)}))}else o()})):Cr(Gr(c.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?Rr({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];r._platformSdk.setSaveData(o,(function(t,i){null===i&&(r._platformStorageCachedData=o,e()),n(i)}))}else n()})):Cr(Gr(c.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showInterstitial",value:function(){this._platformSdk.showCampaign("default")}},{key:"showRewarded",value:function(){this._platformSdk.showCampaign("rewarded")}}])&&Lr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(Q);function xr(t){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(t)}function Kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===xr(o)?o:String(o)),n)}var o}function Vr(t,e){return Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vr(t,e)}function Hr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yr(t){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yr(t)}function Ur(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Jr(t,e,"set"),r),r}function qr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Jr(t,e,"get"))}function Jr(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Zr=new WeakMap;const Xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vr(t,e)}(f,t);var e,r,o,i,a=(o=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yr(o);if(i){var r=Yr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hr(t)}(this,t)});function f(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=Hr(t=a.call.apply(a,[this].concat(i))),n={writable:!0,value:!1},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r=Zr),r.set(e,n),t}return e=f,(r=[{key:"platformId",get:function(){return n.GAME_DISTRIBUTION}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y);if(!t)if(t=this._createPromiseDecorator(y),this._options&&"string"==typeof this._options.gameId){var e=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(t){switch(t.name){case"SDK_READY":e._platformSdk=window.gdsdk,e._platformSdk.preloadAd("rewarded"),e._isInitialized=!0,e._resolvePromiseDecorator(y);break;case"SDK_GAME_START":qr(e,Zr)?e._setRewardedState(s.CLOSED):e._setInterstitialState(u.CLOSED);break;case"SDK_GAME_PAUSE":qr(e,Zr)?e._setRewardedState(s.OPENED):e._setInterstitialState(u.OPENED);break;case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":break;case"SDK_REWARDED_WATCH_COMPLETE":e._setRewardedState(s.REWARDED)}}},this._defaultStorageType=l.LOCAL_STORAGE,this._isBannerSupported=!0,$("https://html5.api.gamedistribution.com/main.min.js")}else this._rejectPromiseDecorator(y,I);return t.promise}},{key:"showBanner",value:function(t){var e=this;t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.showAd("display",{containerId:t.containerId}).then((function(){e._setBannerState(c.SHOWN)})).catch((function(t){e._setBannerState(c.FAILED)})):this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){var t=this;Ur(this,Zr,!1),this._platformSdk?this._platformSdk.showAd().catch((function(e){t._setInterstitialState(u.FAILED)})):this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){var t=this;Ur(this,Zr,!0),this._platformSdk?this._platformSdk.showAd("rewarded").catch((function(e){t._setRewardedState(s.FAILED)})):this._setRewardedState(s.FAILED)}}])&&Kr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(Q);function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function $r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Qr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Qr(o)?o:String(o)),n)}var o}function tn(){return tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},tn.apply(this,arguments)}function en(t,e){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},en(t,e)}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nn(t){return nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nn(t)}function on(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function an(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function un(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,sn(t,e,"set"),r),r}function sn(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var cn=new WeakMap,ln=new WeakSet;function fn(t,e){return Promise.reject()}const pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&en(t,e)}(c,t);var e,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nn(o);if(i){var r=nn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rn(t)}(this,t)});function c(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return on(e=rn(t=a.call.apply(a,[this].concat(o))),r=ln),r.add(e),function(t,e,r){on(t,e),e.set(t,{writable:!0,value:!1})}(rn(t),cn),t}return e=c,(r=[{key:"platformId",get:function(){return n.VKPLAY}},{key:"platformLanguage",get:function(){var t=new URL(window.location.href);try{if(t.searchParams.has("lang")){var e=t.searchParams.get("lang");if(2===e.length)return e;if(e.length>2)return e.substring(0,2)}}catch(t){return tn(nn(c.prototype),"platformLanguage",this)}return tn(nn(c.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var t=new URL(window.location.href);return t.searchParams.has("payload")?t.searchParams.get("payload"):tn(nn(c.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){return tn(nn(c.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var t,e=this._getPromiseDecorator(y);if(!e)if(e=this._createPromiseDecorator(y),this._options&&"string"==typeof this._options.gameId){var r=this,n=r._options.gameId,o="https://vkplay.ru/app/[GMRID]/static/mailru.core.js".replace("[GMRID]",n);this._defaultStorageType=l.LOCAL_STORAGE,this._isBannerSupported=!1,this._options&&"string"==typeof this._options.metrikaId&&(t=this._options.metrikaId,new Promise((function(e){var r="window.yandexMetricaCounterId = [[[METRIKA_ID]]];";r=r.replaceAll("[[[METRIKA_ID]]]",t);var n=document.createElement("script");n.type="text/javascript",n.text=r,document.head.appendChild(n);var o='(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym([[[METRIKA_ID]]], "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});';o=o.replace("[[[METRIKA_ID]]]",t),console.log("Create Metrika Script\n"+o);var i=document.createElement("script");i.type="text/javascript",i.text=o,i.addEventListener("load",e),document.head.appendChild(i);var a='<div><img src="https://mc.yandex.ru/watch/[[[METRIKA_ID]]]" style="position:absolute; left:-9999px;" alt="" /></div>';a=a.replace("[[[METRIKA_ID]]]",t);var u=document.createElement("noscript");u.innerHTML=a,document.head.appendChild(u)}))),$(o).then((function(){"undefined"!=typeof iframeApi?iframeApi({appid:n,getLoginStatusCallback:function(t){},userInfoCallback:function(t){},userProfileCallback:function(t){},registerUserCallback:function(t){},paymentFrameUrlCallback:function(t){},getAuthTokenCallback:function(t){},paymentReceivedCallback:function(t){},paymentWindowClosedCallback:function(){},userConfirmCallback:function(){},paymentFrameItem:function(t){},getGameInventoryItems:function(){},adsCallback:function(t){var e;!function(t,e){return e.get?e.get.call(t):e.value}(e=r,sn(e,cn,"get"))?"adCompleted"===t.type||"adDismissed"===t.type?r._setInterstitialState(u.CLOSED):"adError"===t.type&&r._setInterstitialState(u.ERROR):"adCompleted"===t.type?(r._setRewardedState(s.REWARDED),r._setRewardedState(s.CLOSED)):"adDismissed"===t.type?r._setRewardedState(s.CLOSED):"adError"===t.type&&r._setRewardedState(s.ERROR)}}).then((function(t){r._platformSdk=t,r._isInitialized=!0,r._resolvePromiseDecorator(y)}),(function(t){this._rejectPromiseDecorator(y,"Could not init external api "+t)})):console.log("Cannot find iframeApi function, are we inside an iframe?")}))}else this._rejectPromiseDecorator(y,ERROR.GAME_DISTRIBUTION_GAME_ID_IS_UNDEFINED);return e.promise}},{key:"authorizePlayer",value:function(t){return Promise.reject()}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||tn(nn(c.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL||tn(nn(c.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){return tn(nn(c.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){return tn(nn(c.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){return tn(nn(c.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(t){}},{key:"hideBanner",value:function(){}},{key:"showInterstitial",value:function(){un(this,cn,!1),this._platformSdk.showAds({interstitial:!0}),this._setInterstitialState(u.OPENED)}},{key:"showRewarded",value:function(){un(this,cn,!0),this._platformSdk.showAds({interstitial:!1}),this._setRewardedState(s.OPENED)}},{key:"inviteFriends",value:function(){return an(this,ln,fn).call(this,m,"VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(t){if(!t||!t.groupId)return Promise.reject();var e=t.groupId;return"string"==typeof e&&(e=parseInt(e),isNaN(e))?Promise.reject():an(this,ln,fn).call(this,v,"VKWebAppJoinGroup",{group_id:e}).then((function(){window.open("https://vk.com/public"+e)}))}},{key:"share",value:function(t){var e={};return t&&t.link&&(e.link=t.link),an(this,ln,fn).call(this,h,"VKWebAppShare",e,"type")}},{key:"createPost",value:function(t){var e={};return t&&t.message&&(e.message=t.message),t&&t.attachments&&(e.attachments=t.attachments),an(this,ln,fn).call(this,b,"VKWebAppShowWallPostBox",e,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported,Promise.reject()}},{key:"addToFavorites",value:function(){return an(this,ln,fn).call(this,_,"VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(t){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!t||!t.userResult)return Promise.reject();var e={user_result:t.userResult};return"boolean"==typeof t.global&&(e.global=t.global?1:0),Promise.reject()}}])&&$r(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(Q);function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function dn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mn(n.key),n)}}function mn(t){var e=function(t,e){if("object"!==yn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===yn(e)?e:String(e)}function vn(t,e){gn(t,e),e.add(t)}function bn(t,e,r){gn(t,e),e.set(t,r)}function gn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _n(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Pn(t,e,"set"),r),r}function Sn(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function wn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Pn(t,e,"get"))}function Pn(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}t=r.hmd(t);var kn=new WeakMap,En=new WeakMap,On=new WeakMap,An=new WeakMap,Dn=new WeakMap,Tn=new WeakSet,jn=new WeakSet;function In(){var t=n.MOCK;if(this._options&&this._options.forciblySetPlatformId)switch(this._options.forciblySetPlatformId){case n.VK:t=n.VK;break;case n.YANDEX:t=n.YANDEX;break;case n.CRAZY_GAMES:t=n.CRAZY_GAMES;break;case n.ABSOLUTE_GAMES:t=n.ABSOLUTE_GAMES;break;case n.GAME_DISTRIBUTION:t=n.GAME_DISTRIBUTION;break;case n.VKPLAY:t=n.VKPLAY}else{var e=new URL(window.location.href),r=["y","a","n","d","e","x",".","n","e","t"].join("");e.hostname.includes(r)||e.hash.includes("yandex")?t=n.YANDEX:e.hostname.includes("crazygames.")||e.hostname.includes("1001juegos.com")?t=n.CRAZY_GAMES:e.hostname.includes("gamedistribution.com")?t=n.GAME_DISTRIBUTION:e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?t=n.VK:e.searchParams.has("app_id")&&e.searchParams.has("player_id")&&e.searchParams.has("game_sid")&&e.searchParams.has("auth_key")?t=n.ABSOLUTE_GAMES:(e.searchParams.has("ab_target_platform_id")&&"vkplay"===e.searchParams.get("ab_target_platform_id")||e.searchParams.has("lang")&&e.searchParams.has("currency")&&e.searchParams.has("status"))&&(t=n.VKPLAY)}switch(t){case n.VK:_n(this,On,new yt(this._options&&this._options.platforms&&this._options.platforms[n.VK]));break;case n.YANDEX:_n(this,On,new Ct(this._options&&this._options.platforms&&this._options.platforms[n.YANDEX]));break;case n.CRAZY_GAMES:_n(this,On,new Tr(this._options&&this._options.platforms&&this._options.platforms[n.CRAZY_GAMES]));break;case n.ABSOLUTE_GAMES:_n(this,On,new Wr(this._options&&this._options.platforms&&this._options.platforms[n.ABSOLUTE_GAMES]));break;case n.GAME_DISTRIBUTION:_n(this,On,new Xr(this._options&&this._options.platforms&&this._options.platforms[n.GAME_DISTRIBUTION]));break;case n.MOCK:_n(this,On,new Q);break;case n.VKPLAY:_n(this,On,new pn(this._options&&this._options.platforms&&this._options.platforms[n.VKPLAY]))}}function Rn(t){return wn(this,kn)||console.error(T),wn(this,Dn)[t]?wn(this,Dn)[t]:wn(this,An)[t]}const Ln=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),vn(this,jn),vn(this,Tn),bn(this,kn,{writable:!0,value:!1}),bn(this,En,{writable:!0,value:null}),bn(this,On,{writable:!0,value:null}),bn(this,An,{writable:!0,value:{}}),bn(this,Dn,{writable:!0,value:{}})}var r,y;return r=e,y=[{key:"version",get:function(){return"1.10.0"}},{key:"isInitialized",get:function(){return wn(this,kn)}},{key:"platform",get:function(){return Sn(this,jn,Rn).call(this,o.PLATFORM)}},{key:"player",get:function(){return Sn(this,jn,Rn).call(this,o.PLAYER)}},{key:"game",get:function(){return Sn(this,jn,Rn).call(this,o.GAME)}},{key:"storage",get:function(){return Sn(this,jn,Rn).call(this,o.STORAGE)}},{key:"advertisement",get:function(){return Sn(this,jn,Rn).call(this,o.ADVERTISEMENT)}},{key:"social",get:function(){return Sn(this,jn,Rn).call(this,o.SOCIAL)}},{key:"device",get:function(){return Sn(this,jn,Rn).call(this,o.DEVICE)}},{key:"leaderboard",get:function(){return Sn(this,jn,Rn).call(this,o.LEADERBOARD)}},{key:"payments",get:function(){return Sn(this,jn,Rn).call(this,o.PAYMENTS)}},{key:"PLATFORM_ID",get:function(){return n}},{key:"PLATFORM_MESSAGE",get:function(){return p}},{key:"MODULE_NAME",get:function(){return o}},{key:"EVENT_NAME",get:function(){return i}},{key:"INTERSTITIAL_STATE",get:function(){return u}},{key:"REWARDED_STATE",get:function(){return s}},{key:"BANNER_STATE",get:function(){return c}},{key:"STORAGE_TYPE",get:function(){return l}},{key:"VISIBILITY_STATE",get:function(){return a}},{key:"DEVICE_TYPE",get:function(){return f}},{key:"initialize",value:function(t){var e=this;return wn(this,kn)?Promise.resolve():(wn(this,En)||(_n(this,En,new W),this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=mn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),Sn(this,Tn,In).call(this),wn(this,On).initialize().then((function(){wn(e,An)[o.PLATFORM]=new Vt(wn(e,On)),wn(e,An)[o.PLAYER]=new Jt(wn(e,On)),wn(e,An)[o.GAME]=new ee(wn(e,On)),wn(e,An)[o.STORAGE]=new ce(wn(e,On)),wn(e,An)[o.ADVERTISEMENT]=new Ze(wn(e,On)),wn(e,An)[o.SOCIAL]=new er(wn(e,On)),wn(e,An)[o.DEVICE]=new ar(wn(e,On)),wn(e,An)[o.LEADERBOARD]=new fr(wn(e,On)),wn(e,An)[o.PAYMENTS]=new mr(wn(e,On)),_n(e,kn,!0),console.log("%c InstantGamesBridge v."+e.version+" initialized. ","background: #01A5DA; color: white"),wn(e,En)&&(wn(e,En).resolve(),_n(e,En,null))}))),wn(this,En).promise)}},{key:"overrideModule",value:function(e,r){"object"===yn(r)&&(wn(this,Dn)[e]=r,"function"==typeof r.initialize&&r.initialize(t))}}],y&&hn(r.prototype,y),Object.defineProperty(r,"prototype",{writable:!1}),e}()},258:t=>{!function(e){t.exports=e;var r="listeners",n={on:function(t,e){return a(this,t).push(e),this},once:function(t,e){var r=this;return n.originalListener=e,a(r,t).push(n),r;function n(){i.call(r,t,n),e.apply(this,arguments)}},off:i,emit:function(t,e){var r=this,n=a(r,t,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(t){t.call(r)}));else if(2===o)n.forEach((function(t){t.call(r,e)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(t){t.apply(r,i)}))}return!!n.length}};function o(t){for(var e in n)t[e]=n[e];return t}function i(t,e){var n,o=this;if(arguments.length){if(e){if(n=a(o,t,!0)){if(!(n=n.filter((function(t){return t!==e&&t.originalListener!==e}))).length)return i.call(o,t);o[r][t]=n}}else if((n=o[r])&&(delete n[t],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(t,e,n){if(!n||t[r]){var o=t[r]||(t[r]={});return o[e]||(o[e]=[])}}o(e.prototype),e.mixin=o}((function t(){if(!(this instanceof t))return new t}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(757);window.instantGamesBridge=window.bridge=new t.Z})()})();
