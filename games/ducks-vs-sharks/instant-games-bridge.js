/*! For license information please see instant-games-bridge.js.LICENSE.txt */
(()=>{var e={757:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Nn});var n={VK:"vk",YANDEX:"yandex",CRAZY_GAMES:"crazy_games",ABSOLUTE_GAMES:"absolute_games",GAME_DISTRIBUTION:"game_distribution",MOCK:"mock",VKPLAY:"vk_play"},o={PLATFORM:"platform",PLAYER:"player",GAME:"game",STORAGE:"storage",ADVERTISEMENT:"advertisement",SOCIAL:"social",DEVICE:"device",LEADERBOARD:"leaderboard",PAYMENTS:"payments"},i={INTERSTITIAL_STATE_CHANGED:"interstitial_state_changed",REWARDED_STATE_CHANGED:"rewarded_state_changed",BANNER_STATE_CHANGED:"banner_state_changed",VISIBILITY_STATE_CHANGED:"visibility_state_changed"},a={VISIBLE:"visible",HIDDEN:"hidden"},u={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed"},s={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed",REWARDED:"rewarded"},c={LOADING:"loading",SHOWN:"shown",HIDDEN:"hidden",FAILED:"failed"},l={LOCAL_STORAGE:"local_storage",PLATFORM_INTERNAL:"platform_internal"},f={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet",TV:"tv"},p={GAME_READY:"game_ready",IN_GAME_LOADING_STARTED:"in_game_loading_started",IN_GAME_LOADING_STOPPED:"in_game_loading_stopped",GAMEPLAY_STARTED:"gameplay_started",GAMEPLAY_STOPPED:"gameplay_stopped",PLAYER_GOT_ACHIEVEMENT:"player_got_achievement"},y="initialize",d="authorize_player",h="share",m="invite_friends",v="join_community",b="create_post",g="add_to_home_screen",_="add_to_favorites",S="rate",w="set_leaderboard_score",P="get_leaderboard_score",k="get_leaderboard_entries",E="purchase",O="get_purchases",A="get_catalog",D="consume",T={message:"Before using the SDK you must initialize it"},j={message:"Storage not supported"},I={message:"GameDistribution Game ID is undefined"};function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===R(o)?o:String(o)),n)}var o}function B(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function N(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,M(e,t,"set"),r),r}function C(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,M(e,t,"get"))}function M(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var G=new WeakMap,F=new WeakMap,z=new WeakMap;const W=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,G,{writable:!0,value:void 0}),B(this,F,{writable:!0,value:void 0}),B(this,z,{writable:!0,value:void 0}),N(this,G,new Promise((function(e,r){N(t,F,e),N(t,z,r)})))}var t,r;return t=e,(r=[{key:"promise",get:function(){return C(this,G)}},{key:"resolve",value:function(e){C(this,F).call(this,e)}},{key:"reject",value:function(e){C(this,z).call(this,e)}}])&&L(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var x=r(258),K=r.n(x);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function U(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===V(t)?t:String(t)}function J(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var Z=new WeakMap,X=function(){function e(t){var r,n,o,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),U(this,"_isInitialized",!1),U(this,"_platformSdk",null),U(this,"_isPlayerAuthorized",!1),U(this,"_playerId",null),U(this,"_playerName",null),U(this,"_playerPhotos",[]),U(this,"_visibilityState",null),U(this,"_localStorage",null),U(this,"_defaultStorageType",l.LOCAL_STORAGE),U(this,"_platformStorageCachedData",null),U(this,"_isBannerSupported",!1),U(this,"_interstitialState",null),U(this,"_rewardedState",null),U(this,"_bannerState",null),o={writable:!0,value:{}},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,n=Z),n.set(r,o);try{this._localStorage=window.localStorage}catch(e){}this._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,document.addEventListener("visibilitychange",(function(){u._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,u.emit(i.VISIBILITY_STATE_CHANGED,u._visibilityState)})),t&&(this._options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t))}var t,r;return t=e,(r=[{key:"platformId",get:function(){return n.MOCK}},{key:"platformSdk",get:function(){return this._platformSdk}},{key:"platformLanguage",get:function(){var e=navigator.language;return"string"==typeof e?e.substring(0,2).toLowerCase():"en"}},{key:"platformPayload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"platformTld",get:function(){return null}},{key:"visibilityState",get:function(){return this._visibilityState}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"defaultStorageType",get:function(){return this._defaultStorageType}},{key:"isBannerSupported",get:function(){return this._isBannerSupported}},{key:"bannerState",get:function(){return this._bannerState}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"isRateSupported",get:function(){return!1}},{key:"isExternalLinksAllowed",get:function(){return!1}},{key:"isPaymentsSupported",get:function(){return!1}},{key:"deviceType",get:function(){if(navigator&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(e))return f.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(e))return f.TABLET}return f.DESKTOP}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!1}},{key:"isLeaderboardSetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!1}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"sendMessage",value:function(e){return Promise.resolve()}},{key:"authorizePlayer",value:function(e){return Promise.reject()}},{key:"isStorageSupported",value:function(e){return e===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"isStorageAvailable",value:function(e){return e===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"getDataFromStorage",value:function(e,t){if(t===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++)r.push(this._getDataFromLocalStorage(e[n]));return Promise.resolve(r)}var o=this._getDataFromLocalStorage(e);return Promise.resolve(o)}return Promise.reject(j)}return Promise.reject(j)}},{key:"setDataToStorage",value:function(e,t,r){if(r===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this._setDataToLocalStorage(e[n],t[n]);return Promise.resolve()}return this._setDataToLocalStorage(e,t),Promise.resolve()}return Promise.reject(j)}return Promise.reject(j)}},{key:"deleteDataFromStorage",value:function(e,t){if(t===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this._deleteDataFromLocalStorage(e[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(e),Promise.resolve()}return Promise.reject(j)}return Promise.reject(j)}},{key:"showBanner",value:function(e){this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){this._setRewardedState(s.FAILED)}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(e){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"rate",value:function(){return Promise.reject()}},{key:"setLeaderboardScore",value:function(e){return Promise.reject()}},{key:"getLeaderboardScore",value:function(e){return Promise.reject()}},{key:"getLeaderboardEntries",value:function(e){return Promise.reject()}},{key:"showLeaderboardNativePopup",value:function(e){return Promise.reject()}},{key:"paymentsPurchase",value:function(e){return Promise.reject()}},{key:"paymentsConsume",value:function(e){return Promise.reject()}},{key:"paymentsGetPurchases",value:function(){return Promise.reject()}},{key:"paymentsGetCatalog",value:function(){return Promise.reject()}},{key:"_getDataFromLocalStorage",value:function(e){var t=this._localStorage.getItem(e);if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}},{key:"_setDataToLocalStorage",value:function(e,t){"object"===V(t)&&(t=JSON.stringify(t)),this._localStorage.setItem(e,t)}},{key:"_deleteDataFromLocalStorage",value:function(e){this._localStorage.removeItem(e)}},{key:"_setInterstitialState",value:function(e){this._interstitialState===e&&e!==u.FAILED||(this._interstitialState=e,this.emit(i.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}},{key:"_setRewardedState",value:function(e){this._rewardedState===e&&e!==s.FAILED||(this._rewardedState=e,this.emit(i.REWARDED_STATE_CHANGED,this._rewardedState))}},{key:"_setBannerState",value:function(e){this._bannerState===e&&e!==c.FAILED||(this._bannerState=e,this.emit(i.BANNER_STATE_CHANGED,this._bannerState))}},{key:"_createPromiseDecorator",value:function(e){var t=new W;return J(this,Z)[e]=t,t}},{key:"_getPromiseDecorator",value:function(e){return J(this,Z)[e]}},{key:"_resolvePromiseDecorator",value:function(e,t){J(this,Z)[e]&&(J(this,Z)[e].resolve(t),delete J(this,Z)[e])}},{key:"_rejectPromiseDecorator",value:function(e,t){J(this,Z)[e]&&(J(this,Z)[e].reject(t),delete J(this,Z)[e])}}])&&Y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();K().mixin(X.prototype);const Q=X;var $=function(e){return new Promise((function(t){var r=document.createElement("script");r.src=e,r.addEventListener("load",t),document.head.appendChild(r)}))};function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ee(o)?o:String(o)),n)}var o}function re(){return re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},re.apply(this,arguments)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function ae(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ue(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function se(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ce(e,t,"get"))}function ce(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var le=new WeakMap,fe=new WeakSet;function pe(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"result",i=this._getPromiseDecorator(e);return i||(i=this._createPromiseDecorator(e),this._platformSdk.send(t,n).then((function(t){t[o]?r._resolvePromiseDecorator(e):r._rejectPromiseDecorator(e)})).catch((function(t){r._rejectPromiseDecorator(e,t)}))),i.promise}const ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(p,e);var t,r,o,i,a=(o=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ie(o);if(i){var r=ie(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oe(e)}(this,e)});function p(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ae(t=oe(e=a.call.apply(a,[this].concat(o))),r=fe),r.add(t),function(e,t,r){ae(e,t),t.set(e,{writable:!0,value:void 0})}(oe(e),le),e}return t=p,(r=[{key:"platformId",get:function(){return n.VK}},{key:"platformLanguage",get:function(){var e=new URL(window.location.href);if(e.searchParams.has("language")){var t=e.searchParams.get("language");try{t=parseInt(t)}catch(e){}switch(t){case 0:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}}return re(ie(p.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var e=new URL(window.location.href);return e.searchParams.has("hash")?e.searchParams.get("hash"):re(ie(p.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){if(se(this,le))switch(se(this,le)){case"html5_ios":case"html5_android":case"html5_mobile":return f.MOBILE;case"web":return f.DESKTOP}return re(ie(p.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return"html5_android"===se(this,le)}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardNativePopupSupported",get:function(){return this.deviceType===f.MOBILE}},{key:"initialize",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r,n,o=this._getPromiseDecorator(y);if(!o){o=this._createPromiseDecorator(y);var i=new URL(window.location.href);i.searchParams.has("platform")&&(t=this,r=le,n=i.searchParams.get("platform"),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t,ce(t,r,"set"),n)),$("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){e._platformSdk=window.vkBridge,e._platformSdk.send("VKWebAppInit").then((function(){"html5_android"!==se(e,le)&&"html5_ios"!==se(e,le)||(e._isBannerSupported=!0),e._platformSdk.send("VKWebAppGetUserInfo").then((function(t){t&&(e._playerId=t.id,e._playerName=t.first_name+" "+t.last_name,t.photo_100&&e._playerPhotos.push(t.photo_100),t.photo_200&&e._playerPhotos.push(t.photo_200),t.photo_max_orig&&e._playerPhotos.push(t.photo_max_orig))})).finally((function(){e._isInitialized=!0,e._defaultStorageType=l.PLATFORM_INTERNAL,e._resolvePromiseDecorator(y)}))}))}))}return o.promise}},{key:"authorizePlayer",value:function(e){return Promise.resolve()}},{key:"isStorageSupported",value:function(e){return e===l.PLATFORM_INTERNAL||re(ie(p.prototype),"isStorageSupported",this).call(this,e)}},{key:"isStorageAvailable",value:function(e){return e===l.PLATFORM_INTERNAL||re(ie(p.prototype),"isStorageAvailable",this).call(this,e)}},{key:"getDataFromStorage",value:function(e,t){var r=this;return t===l.PLATFORM_INTERNAL?new Promise((function(t,n){var o=Array.isArray(e)?e:[e];r._platformSdk.send("VKWebAppStorageGet",{keys:o}).then((function(r){if(Array.isArray(e)){for(var n=[],o=0;o<e.length;o++)if(""!==r.keys[o].value){var i=void 0;try{i=JSON.parse(r.keys[o].value)}catch(e){i=r.keys[o].value}n.push(i)}else n.push(null);t(n)}else if(""!==r.keys[0].value){var a;try{a=JSON.parse(r.keys[0].value)}catch(e){a=r.keys[0].value}t(a)}else t(null)})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?n(e.error_data.error_reason):n()}))})):re(ie(p.prototype),"getDataFromStorage",this).call(this,e,t)}},{key:"setDataToStorage",value:function(e,t,r){var n=this;if(r===l.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a={key:e[i],value:t[i]};"string"!=typeof t[i]&&(a.value=JSON.stringify(t[i])),o.push(this._platformSdk.send("VKWebAppStorageSet",a))}return Promise.all(o)}var u={key:e,value:t};return"string"!=typeof t&&(u.value=JSON.stringify(t)),new Promise((function(e,t){n._platformSdk.send("VKWebAppStorageSet",u).then((function(){e()})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?t(e.error_data.error_reason):t()}))}))}return re(ie(p.prototype),"setDataToStorage",this).call(this,e,t,r)}},{key:"deleteDataFromStorage",value:function(e,t){if(t===l.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++)r.push(this.setDataToStorage(e[n],"",t));return Promise.all(r)}return this.setDataToStorage(e,"",t)}return re(ie(p.prototype),"deleteDataFromStorage",this).call(this,e,t)}},{key:"showBanner",value:function(e){var t=this,r="bottom",n="resize",o=!1;e&&("string"==typeof e.position&&(r=e.position),"string"==typeof e.layoutType&&(n=e.layoutType),"boolean"==typeof e.canClose&&(o=e.canClose)),this._platformSdk.send("VKWebAppShowBannerAd",{banner_location:r,layout_type:n,can_close:o}).then((function(e){e.result?t._setBannerState(c.SHOWN):t._setBannerState(c.FAILED)})).catch((function(e){t._setBannerState(c.FAILED)}))}},{key:"hideBanner",value:function(){var e=this;this._platformSdk.send("VKWebAppHideBannerAd").then((function(t){t.result&&e._setBannerState(c.HIDDEN)}))}},{key:"showInterstitial",value:function(){var e=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((function(t){t.result&&e._setInterstitialState(u.OPENED)})).finally((function(){e._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(t){e._setInterstitialState(t.result?u.CLOSED:u.FAILED)})).catch((function(){e._setInterstitialState(u.FAILED)}))}))}},{key:"showRewarded",value:function(){var e=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(t){t.result&&e._setRewardedState(s.OPENED)})).finally((function(){e._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(t){t.result?(e._setRewardedState(s.REWARDED),e._setRewardedState(s.CLOSED)):e._setRewardedState(s.FAILED)})).catch((function(){e._setRewardedState(s.FAILED)}))}))}},{key:"inviteFriends",value:function(){return ue(this,fe,pe).call(this,m,"VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(e){if(!e||!e.groupId)return Promise.reject();var t=e.groupId;return"string"==typeof t&&(t=parseInt(t),isNaN(t))?Promise.reject():ue(this,fe,pe).call(this,v,"VKWebAppJoinGroup",{group_id:t}).then((function(){window.open("https://vk.com/public"+t)}))}},{key:"share",value:function(e){var t={};return e&&e.link&&(t.link=e.link),ue(this,fe,pe).call(this,h,"VKWebAppShare",t,"type")}},{key:"createPost",value:function(e){var t={};return e&&e.message&&(t.message=e.message),e&&e.attachments&&(t.attachments=e.attachments),ue(this,fe,pe).call(this,b,"VKWebAppShowWallPostBox",t,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?ue(this,fe,pe).call(this,g,"VKWebAppAddToHomeScreen"):Promise.reject()}},{key:"addToFavorites",value:function(){return ue(this,fe,pe).call(this,_,"VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(e){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!e||!e.userResult)return Promise.reject();var t={user_result:e.userResult};return"boolean"==typeof e.global&&(t.global=e.global?1:0),ue(this,fe,pe).call(this,"show_leaderboard_native_popup","VKWebAppShowLeaderBoardBox",t)}}])&&te(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(Q);function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=be(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,be(n.key),n)}}function be(e){var t=function(e,t){if("object"!==de(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===de(t)?t:String(t)}function ge(){return ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=we(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ge.apply(this,arguments)}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}function Pe(e,t,r){ke(e,t),t.set(e,r)}function ke(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ee(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,De(e,t,"set"),r),r}function Oe(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Ae(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,De(e,t,"get"))}function De(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Te=new WeakMap,je=new WeakMap,Ie=new WeakMap,Re=new WeakMap,Le=new WeakSet;function Be(e){var t=this;return new Promise((function(r){var n={scopes:!0};e&&"boolean"==typeof e.scopes&&(n.scopes=e.scopes),t._platformSdk.getPlayer(n).then((function(e){t._playerId=e.getUniqueID(),t._isPlayerAuthorized="lite"!==e.getMode();var r=e.getName();""!==r&&(t._playerName=r),t._playerPhotos=[];var n=e.getPhoto("small"),o=e.getPhoto("medium"),i=e.getPhoto("large");n&&t._playerPhotos.push(n),o&&t._playerPhotos.push(o),i&&t._playerPhotos.push(i),Ee(t,je,e)})).finally((function(){r()}))}))}const Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(h,e);var t,r,o,i,a=(o=h,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=we(o);if(i){var r=we(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}(this,e)});function h(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ke(t=Se(e=a.call.apply(a,[this].concat(o))),r=Le),r.add(t),Pe(Se(e),Te,{writable:!0,value:!1}),Pe(Se(e),je,{writable:!0,value:null}),Pe(Se(e),Ie,{writable:!0,value:null}),Pe(Se(e),Re,{writable:!0,value:null}),e}return t=h,(r=[{key:"platformId",get:function(){return n.YANDEX}},{key:"platformLanguage",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():ge(we(h.prototype),"platformLanguage",this)}},{key:"platformTld",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():ge(we(h.prototype),"platformTld",this)}},{key:"deviceType",get:function(){if(this._platformSdk)switch(this._platformSdk.deviceInfo.type){case f.DESKTOP:return f.DESKTOP;case f.MOBILE:return f.MOBILE;case f.TABLET:return f.TABLET;case f.TV:return f.TV}return ge(we(h.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return Ae(this,Te)}},{key:"isRateSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!0}},{key:"isLeaderboardSetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!0}},{key:"isPaymentsSupported",get:function(){return!0}},{key:"initialize",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y);return t||(t=this._createPromiseDecorator(y),$("https://yandex.ru/games/sdk/v2").then((function(){window.YaGames.init().then((function(t){e._platformSdk=t;var r=Oe(e,Le,Be).call(e),n=e._platformSdk.getStorage().then((function(t){e._localStorage=t})),o=e._platformSdk.shortcut.canShowPrompt().then((function(t){Ee(e,Te,t.canShow)})),i=e._platformSdk.getLeaderboards().then((function(t){Ee(e,Re,t)}));e._isBannerSupported=!0;var a=e._platformSdk.adv.getBannerAdvStatus().then((function(t){t.stickyAdvIsShowing&&e._setBannerState(c.SHOWN)})),u=e._platformSdk.getPayments().then((function(t){Ee(e,Ie,t)}));Promise.all([r,n,o,i,a,u]).finally((function(){e._isInitialized=!0,e._defaultStorageType=e._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE,e._resolvePromiseDecorator(y)}))}))}))),t.promise}},{key:"sendMessage",value:function(e){var t;return e===p.GAME_READY?(null===(t=this._platformSdk.features.LoadingAPI)||void 0===t||t.ready(),Promise.resolve()):ge(we(h.prototype),"sendMessage",this).call(this,e)}},{key:"authorizePlayer",value:function(e){var t=this,r=this._getPromiseDecorator(d);return r||(r=this._createPromiseDecorator(d),this._isPlayerAuthorized?Oe(this,Le,Be).call(this,e).then((function(){t._resolvePromiseDecorator(d)})):this._platformSdk.auth.openAuthDialog().then((function(){Oe(t,Le,Be).call(t,e).then((function(){t._resolvePromiseDecorator(d)}))})).catch((function(e){t._rejectPromiseDecorator(d,e)}))),r.promise}},{key:"isStorageSupported",value:function(e){return e===l.PLATFORM_INTERNAL||ge(we(h.prototype),"isStorageSupported",this).call(this,e)}},{key:"isStorageAvailable",value:function(e){return e===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:ge(we(h.prototype),"isStorageAvailable",this).call(this,e)}},{key:"getDataFromStorage",value:function(e,t){var r=this;return t===l.PLATFORM_INTERNAL?new Promise((function(t,n){if(r._platformStorageCachedData){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a=void 0===r._platformStorageCachedData[e[i]]?null:r._platformStorageCachedData[e[i]];o.push(a)}return void t(o)}t(void 0===r._platformStorageCachedData[e]?null:r._platformStorageCachedData[e])}else Ae(r,je)?Ae(r,je).getData().then((function(n){if(r._platformStorageCachedData=n,Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a=void 0===r._platformStorageCachedData[e[i]]?null:r._platformStorageCachedData[e[i]];o.push(a)}t(o)}else t(void 0===r._platformStorageCachedData[e]?null:r._platformStorageCachedData[e])})).catch((function(e){n(e)})):n()})):ge(we(h.prototype),"getDataFromStorage",this).call(this,e,t)}},{key:"setDataToStorage",value:function(e,t,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(r,o){if(Ae(n,je)){var i=null!==n._platformStorageCachedData?me({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;Ae(n,je).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))}else o()})):ge(we(h.prototype),"setDataToStorage",this).call(this,e,t,r)}},{key:"deleteDataFromStorage",value:function(e,t){var r=this;return t===l.PLATFORM_INTERNAL?new Promise((function(t,n){if(Ae(r,je)){var o=null!==r._platformStorageCachedData?me({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];Ae(r,je).setData(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))}else n()})):ge(we(h.prototype),"deleteDataFromStorage",this).call(this,e,t)}},{key:"showBanner",value:function(e){var t=this;this._platformSdk.adv.showBannerAdv().then((function(e){e.stickyAdvIsShowing?t._setBannerState(c.SHOWN):t._setBannerState(c.FAILED)})).catch((function(e){t._setBannerState(c.FAILED)}))}},{key:"hideBanner",value:function(){var e=this;this._platformSdk.adv.hideBannerAdv().then((function(t){t.stickyAdvIsShowing||e._setBannerState(c.HIDDEN)}))}},{key:"showInterstitial",value:function(){var e=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){e._setInterstitialState(u.OPENED)},onClose:function(t){t?e._setInterstitialState(u.CLOSED):e._setInterstitialState(u.FAILED)}}})}},{key:"showRewarded",value:function(){var e=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){e._setRewardedState(s.OPENED)},onRewarded:function(){e._setRewardedState(s.REWARDED)},onClose:function(){e._setRewardedState(s.CLOSED)},onError:function(t){e._setRewardedState(s.FAILED)}}})}},{key:"addToHomeScreen",value:function(){var e=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var t=this._getPromiseDecorator(g);return t||(t=this._createPromiseDecorator(g),this._platformSdk.shortcut.showPrompt().then((function(t){"accepted"!==t.outcome?e._rejectPromiseDecorator(g):e._resolvePromiseDecorator(g)})).catch((function(t){e._rejectPromiseDecorator(g,t)}))),t.promise}},{key:"rate",value:function(){var e=this,t=this._getPromiseDecorator(S);return t||(t=this._createPromiseDecorator(S),this._platformSdk.feedback.canReview().then((function(t){t.value?e._platformSdk.feedback.requestReview().then((function(t){t.feedbackSent?e._resolvePromiseDecorator(S):e._rejectPromiseDecorator(S)})).catch((function(t){e._rejectPromiseDecorator(S,t)})):e._rejectPromiseDecorator(S,t.reason)})).catch((function(t){e._rejectPromiseDecorator(S,t)}))),t.promise}},{key:"setLeaderboardScore",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!(Ae(this,Re)&&e&&e.score&&e.leaderboardName))return Promise.reject();var r=this._getPromiseDecorator(w);return r||(r=this._createPromiseDecorator(w),"string"==typeof e.score&&(e.score=parseInt(e.score)),Ae(this,Re).setLeaderboardScore(e.leaderboardName,e.score).then((function(){t._resolvePromiseDecorator(w)})).catch((function(e){t._rejectPromiseDecorator(w,e)}))),r.promise}},{key:"getLeaderboardScore",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!Ae(this,Re)||!e||!e.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(P);return r||(r=this._createPromiseDecorator(P),Ae(this,Re).getLeaderboardPlayerEntry(e.leaderboardName).then((function(e){t._resolvePromiseDecorator(P,e.score)})).catch((function(e){t._rejectPromiseDecorator(P,e)}))),r.promise}},{key:"getLeaderboardEntries",value:function(e){var t=this;if(!Ae(this,Re)||!e||!e.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(k);if(!r){r=this._createPromiseDecorator(k);var n={includeUser:!1,quantityAround:5,quantityTop:5};"boolean"==typeof e.includeUser&&(n.includeUser=e.includeUser),"string"==typeof e.quantityAround&&(e.quantityAround=parseInt(e.quantityAround)),"number"==typeof e.quantityAround&&(n.quantityAround=e.quantityAround),"string"==typeof e.quantityTop&&(e.quantityTop=parseInt(e.quantityTop)),"number"==typeof e.quantityTop&&(n.quantityTop=e.quantityTop),Ae(this,Re).getLeaderboardEntries(e.leaderboardName,n).then((function(e){var r=null;e&&e.entries.length>0&&(r=e.entries.map((function(e){var t=[],r=e.player.getAvatarSrc("small"),n=e.player.getAvatarSrc("medium"),o=e.player.getAvatarSrc("large");return r&&t.push(r),n&&t.push(n),o&&t.push(o),{id:e.player.uniqueID,score:e.score,rank:e.rank,name:e.player.publicName,photos:t}}))),t._resolvePromiseDecorator(k,r)})).catch((function(e){t._rejectPromiseDecorator(k,e)}))}return r.promise}},{key:"paymentsPurchase",value:function(e){var t=this;if(!Ae(this,Ie)||!e||!e.id)return Promise.reject();var r=this._getPromiseDecorator(E);return r||(r=this._createPromiseDecorator(E),Ae(this,Ie).purchase(e).then((function(e){t._resolvePromiseDecorator(E,e)})).catch((function(e){t._rejectPromiseDecorator(E,e)}))),r.promise}},{key:"paymentsConsume",value:function(e){var t=this;if(!Ae(this,Ie))return Promise.reject();var r=this._getPromiseDecorator(D);return r||(r=this._createPromiseDecorator(D),Ae(this,Ie).consumePurchase(e).then((function(e){t._resolvePromiseDecorator(D,e)})).catch((function(e){t._rejectPromiseDecorator(D,e)}))),r.promise}},{key:"paymentsGetPurchases",value:function(){var e=this;if(!Ae(this,Ie))return Promise.reject();var t=this._getPromiseDecorator(O);return t||(t=this._createPromiseDecorator(O),Ae(this,Ie).getPurchases().then((function(t){e._resolvePromiseDecorator(O,t)})).catch((function(t){e._rejectPromiseDecorator(O,t)}))),t.promise}},{key:"paymentsGetCatalog",value:function(){var e=this;if(!Ae(this,Ie))return Promise.reject();var t=this._getPromiseDecorator(A);return t||(t=this._createPromiseDecorator(A),Ae(this,Ie).getCatalog().then((function(t){e._resolvePromiseDecorator(A,t)})).catch((function(t){e._rejectPromiseDecorator(A,t)}))),t.promise}}])&&ve(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(Q);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ge(n.key),n)}}function Ge(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ce(t)?t:String(t)}const Fe=function(){function e(t){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=void 0,(n=Ge(n="_platformBridge"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=t}var t,r;return t=e,(r=[{key:"initialize",value:function(){return Promise.resolve()}}])&&Me(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ze(o)?o:String(o)),n)}var o}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}const Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ke(n);if(o){var r=Ke(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"id",get:function(){return this._platformBridge.platformId}},{key:"sdk",get:function(){return this._platformBridge.platformSdk}},{key:"language",get:function(){return this._platformBridge.platformLanguage}},{key:"payload",get:function(){return this._platformBridge.platformPayload}},{key:"tld",get:function(){return this._platformBridge.platformTld}},{key:"sendMessage",value:function(e){return this._platformBridge.sendMessage(e)}}])&&We(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Fe);function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==He(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===He(o)?o:String(o)),n)}var o}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ue(e,t)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}const Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(n);if(o){var r=qe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"isAuthorizationSupported",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:"id",get:function(){return this._platformBridge.playerId}},{key:"name",get:function(){return this._platformBridge.playerName}},{key:"photos",get:function(){return this._platformBridge.playerPhotos}},{key:"authorize",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.authorize(t)}return this._platformBridge.authorizePlayer(e)}}])&&Ye(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Fe);function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Ze(o)?o:String(o)),n)}var o}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qe(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}(u,e);var t,r,n,o,a=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$e(n);if(o){var r=$e(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e))._platformBridge.on(i.VISIBILITY_STATE_CHANGED,(function(e){return t.emit(i.VISIBILITY_STATE_CHANGED,e)})),t}return t=u,(r=[{key:"visibilityState",get:function(){return this._platformBridge.visibilityState}}])&&Xe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Fe);K().mixin(et.prototype);const tt=et;function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==rt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===rt(o)?o:String(o)),n)}var o}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}function ut(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var st=new WeakMap;const ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=at(n);if(o){var r=at(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}(this,e)});function a(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return t=it(e=i.call.apply(i,[this].concat(u))),n={writable:!0,value:[]},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r=st),r.set(t,n),e}return t=a,(r=[{key:"defaultType",get:function(){return this._platformBridge.defaultStorageType}},{key:"isSupported",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageSupported(e)}},{key:"isAvailable",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageAvailable(e)}},{key:"get",value:function(e,t){var r=this;if(t){var n=t[this._platformBridge.platformId];if(n)return this.get(e,n)}var o=t;o||(o=this.defaultType);var i=ut(this,st)[o];return i&&void 0!==i[e]?Promise.resolve(i[e]):this._platformBridge.getDataFromStorage(e,o).then((function(t){return r._addToCache(o,e,t),t}))}},{key:"set",value:function(e,t,r){var n=this;if(r){var o=r[this._platformBridge.platformId];if(o)return this.set(e,t,o)}var i=r;return i||(i=this.defaultType),this._platformBridge.setDataToStorage(e,t,i).then((function(){return n._addToCache(i,e,t)}))}},{key:"delete",value:function(e,t){var r=this;if(t){var n=t[this._platformBridge.platformId];if(n)return this.delete(e,n)}var o=t;return o||(o=this.defaultType),this._platformBridge.deleteDataFromStorage(e,o).then((function(){return r._deleteFromCache(o,e)}))}},{key:"_addToCache",value:function(e,t,r){if(ut(this,st)[e]||(ut(this,st)[e]=[]),Array.isArray(t))for(var n=0;n<t.length;n++)ut(this,st)[e][t[n]]=r[t[n]];else ut(this,st)[e][t]=r}},{key:"_deleteFromCache",value:function(e,t){if(ut(this,st)[e])if(Array.isArray(t))for(var r=0;r<t.length;r++)delete ut(this,st)[e][t[r]];else delete ut(this,st)[e][t]}}])&&nt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Fe);function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==lt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===lt(o)?o:String(o)),n)}var o}function pt(e,t){dt(e,t),t.add(e)}function yt(e,t,r){dt(e,t),t.set(e,r)}function dt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ht(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function mt(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,bt(e,t,"set"),r),r}function vt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,bt(e,t,"get"))}function bt(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var gt="created",_t="completed",St=new WeakMap,wt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Et=new WeakSet,Ot=new WeakSet,At=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pt(this,Ot),pt(this,Et),yt(this,St,{writable:!0,value:0}),yt(this,wt,{writable:!0,value:0}),yt(this,Pt,{writable:!0,value:gt}),yt(this,kt,{writable:!0,value:0}),mt(this,St,t)}var t,r;return t=e,(r=[{key:"state",get:function(){return vt(this,Pt)}},{key:"start",value:function(){var e=this;switch(vt(this,Pt)){case gt:case _t:mt(this,wt,vt(this,St)),ht(this,Et,Dt).call(this,"started"),mt(this,kt,setInterval((function(){mt(e,wt,vt(e,wt)-1),e.emit("time_left_changed",vt(e,wt)),vt(e,wt)<=0&&(ht(e,Ot,Tt).call(e),ht(e,Et,Dt).call(e,_t))}),1e3))}}},{key:"stop",value:function(){ht(this,Ot,Tt).call(this),ht(this,Et,Dt).call(this,"stopped")}}])&&ft(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Dt(e){mt(this,Pt,e),this.emit("state_changed",vt(this,Pt))}function Tt(){mt(this,wt,0),clearInterval(vt(this,kt))}K().mixin(At.prototype);const jt=At;function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==It(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===It(o)?o:String(o)),n)}var o}function Lt(e,t){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lt(e,t)}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}function Ct(e,t){Gt(e,t),t.add(e)}function Mt(e,t,r){Gt(e,t),t.set(e,r)}function Gt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ft(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,xt(e,t,"set"),r),r}function zt(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Wt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,xt(e,t,"get"))}function xt(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Kt=new WeakMap,Vt=new WeakMap,Ht=new WeakSet,Yt=new WeakSet,Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}(l,e);var t,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nt(n);if(o){var r=Nt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bt(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),Ct(Bt(t=a.call(this,e)),Yt),Ct(Bt(t),Ht),Mt(Bt(t),Kt,{writable:!0,value:void 0}),Mt(Bt(t),Vt,{writable:!0,value:60}),t._platformBridge.on(i.INTERSTITIAL_STATE_CHANGED,(function(e){e===u.CLOSED&&Wt(Bt(t),Vt)>0&&zt(Bt(t),Ht,qt).call(Bt(t)),t.emit(i.INTERSTITIAL_STATE_CHANGED,e)})),t._platformBridge.on(i.REWARDED_STATE_CHANGED,(function(e){return t.emit(i.REWARDED_STATE_CHANGED,e)})),t._platformBridge.on(i.BANNER_STATE_CHANGED,(function(e){return t.emit(i.BANNER_STATE_CHANGED,e)})),t}return t=l,(r=[{key:"isBannerSupported",get:function(){return this._platformBridge.isBannerSupported}},{key:"bannerState",get:function(){return this._platformBridge.bannerState}},{key:"interstitialState",get:function(){return this._platformBridge.interstitialState}},{key:"rewardedState",get:function(){return this._platformBridge.rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return Wt(this,Vt)}},{key:"setMinimumDelayBetweenInterstitial",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(void 0!==t)return this.setMinimumDelayBetweenInterstitial(t)}var r=It(e),n=Wt(this,Vt);switch(r){case"number":n=e;break;case"string":if(n=parseInt(e),isNaN(n))return}Ft(this,Vt,n),Wt(this,Kt)&&(Wt(this,Kt).stop(),zt(this,Ht,qt).call(this))}},{key:"showBanner",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return void this.showBanner(t)}if(this.bannerState)switch(this.bannerState){case c.LOADING:case c.SHOWN:return}this._platformBridge._setBannerState(c.LOADING),this.isBannerSupported?this._platformBridge.showBanner(e):this._platformBridge._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){if(this.bannerState)switch(this.bannerState){case c.LOADING:case c.HIDDEN:return}this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:"showInterstitial",value:function(e){if(!zt(this,Yt,Jt).call(this)){if(e){var t=e[this._platformBridge.platformId];if(t)return void this.showInterstitial(t)}var r=!1;e&&"boolean"==typeof e.ignoreDelay&&(r=e.ignoreDelay),this._platformBridge._setInterstitialState(u.LOADING),!Wt(this,Kt)||Wt(this,Kt).state===_t||r?this._platformBridge.showInterstitial():this._platformBridge._setInterstitialState(u.FAILED)}}},{key:"showRewarded",value:function(){zt(this,Yt,Jt).call(this)||(this._platformBridge._setRewardedState(s.LOADING),this._platformBridge.showRewarded())}}])&&Rt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(Fe);function qt(){Ft(this,Kt,new jt(Wt(this,Vt))),Wt(this,Kt).start()}function Jt(){if(this.interstitialState)switch(this.interstitialState){case u.LOADING:case u.OPENED:return!0}if(this.rewardedState)switch(this.rewardedState){case s.LOADING:case s.OPENED:case s.REWARDED:return!0}return!1}K().mixin(Ut.prototype);const Zt=Ut;function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function Qt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Xt(o)?o:String(o)),n)}var o}function $t(e,t){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$t(e,t)}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}const tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$t(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=er(n);if(o){var r=er(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"isInviteFriendsSupported",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return this._platformBridge.isShareSupported}},{key:"isCreatePostSupported",get:function(){return this._platformBridge.isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:"isRateSupported",get:function(){return this._platformBridge.isRateSupported}},{key:"isExternalLinksAllowed",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:"inviteFriends",value:function(){return this._platformBridge.inviteFriends()}},{key:"joinCommunity",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.joinCommunity(t)}return this._platformBridge.joinCommunity(e)}},{key:"share",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.share(t)}return this._platformBridge.share(e)}},{key:"createPost",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.createPost(t)}return this._platformBridge.createPost(e)}},{key:"addToHomeScreen",value:function(){return this._platformBridge.addToHomeScreen()}},{key:"addToFavorites",value:function(){return this._platformBridge.addToFavorites()}},{key:"rate",value:function(){return this._platformBridge.rate()}}])&&Qt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Fe);function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==rr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===rr(o)?o:String(o)),n)}var o}function or(e,t){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},or(e,t)}function ir(e){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ir(e)}const ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&or(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ir(n);if(o){var r=ir(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"type",get:function(){return this._platformBridge.deviceType}}])&&nr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Fe);function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ur(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ur(o)?o:String(o)),n)}var o}function cr(e,t){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cr(e,t)}function lr(e){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lr(e)}const fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lr(n);if(o){var r=lr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:"isNativePopupSupported",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:"isMultipleBoardsSupported",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:"isSetScoreSupported",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:"isGetScoreSupported",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:"isGetEntriesSupported",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:"setScore",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.setScore(t)}return this._platformBridge.setLeaderboardScore(e)}},{key:"getScore",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getScore(t)}return this._platformBridge.getLeaderboardScore(e)}},{key:"getEntries",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getEntries(t)}return this._platformBridge.getLeaderboardEntries(e)}},{key:"showNativePopup",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.showNativePopup(t)}return this._platformBridge.showLeaderboardNativePopup(e)}}])&&sr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Fe);function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function yr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==pr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===pr(o)?o:String(o)),n)}var o}function dr(e,t){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dr(e,t)}function hr(e){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hr(e)}const mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hr(n);if(o){var r=hr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isPaymentsSupported}},{key:"purchase",value:function(e){return this._platformBridge.paymentsPurchase(e)}},{key:"consume",value:function(e){return this._platformBridge.paymentsConsume(e)}},{key:"getPurchases",value:function(){return this._platformBridge.paymentsGetPurchases()}},{key:"getCatalog",value:function(){return this._platformBridge.paymentsGetCatalog()}}])&&yr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Fe);function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}function br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==vr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===vr(o)?o:String(o)),n)}var o}function gr(){return gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gr.apply(this,arguments)}function _r(e,t){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_r(e,t)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}function Pr(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function kr(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Or(e,t,"set"),r),r}function Er(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Or(e,t,"get"))}function Or(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Ar=new WeakMap,Dr=new WeakMap;const Tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_r(e,t)}(d,e);var t,r,o,i,a=(o=d,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wr(o);if(i){var r=wr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sr(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pr(Sr(e=a.call.apply(a,[this].concat(r))),Ar,{writable:!0,value:null}),Pr(Sr(e),Dr,{writable:!0,value:!1}),e}return t=d,(r=[{key:"platformId",get:function(){return n.CRAZY_GAMES}},{key:"platformLanguage",get:function(){return Er(this,Ar)?Er(this,Ar).countryCode.toLowerCase():gr(wr(d.prototype),"platformLanguage",this)}},{key:"deviceType",get:function(){if(Er(this,Ar))switch(Er(this,Ar).device.type.toLowerCase()){case f.DESKTOP:return f.DESKTOP;case f.MOBILE:return f.MOBILE;case f.TABLET:return f.TABLET}return gr(wr(d.prototype),"deviceType",this)}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"initialize",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y);return t||(t=this._createPromiseDecorator(y),$("https://sdk.crazygames.com/crazygames-sdk-v1.js").then((function(){e._platformSdk=window.CrazyGames.CrazySDK.getInstance(),e._platformSdk.addEventListener("initialized",(function(t){kr(e,Ar,t.userInfo),e._isInitialized=!0,e._resolvePromiseDecorator(y)})),e._platformSdk.addEventListener("adStarted",(function(){Er(e,Dr)?e._setRewardedState(s.OPENED):e._setInterstitialState(u.OPENED)})),e._platformSdk.addEventListener("adFinished",(function(){Er(e,Dr)?(e._setRewardedState(s.REWARDED),e._setRewardedState(s.CLOSED)):e._setInterstitialState(u.CLOSED)})),e._platformSdk.addEventListener("adError",(function(){Er(e,Dr)?e._setRewardedState(s.FAILED):e._setInterstitialState(u.FAILED)})),e._platformSdk.addEventListener("bannerRendered",(function(t){e._setBannerState(c.SHOWN)})),e._platformSdk.addEventListener("bannerError",(function(t){e._setBannerState(c.FAILED)})),e._defaultStorageType=l.LOCAL_STORAGE,e._isBannerSupported=!0,e._platformSdk.init()}))),t.promise}},{key:"sendMessage",value:function(e){switch(e){case p.IN_GAME_LOADING_STARTED:return this._platformSdk.sdkGameLoadingStart(),Promise.resolve();case p.IN_GAME_LOADING_STOPPED:return this._platformSdk.sdkGameLoadingStop(),Promise.resolve();case p.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case p.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();case p.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.happytime(),Promise.resolve()}return gr(wr(d.prototype),"sendMessage",this).call(this,e)}},{key:"showBanner",value:function(e){e&&e.containerId&&"string"==typeof e.containerId?this._platformSdk.requestResponsiveBanner([e.containerId]):this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._platformSdk.clearAllBanners(),this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){kr(this,Dr,!1),this._platformSdk.requestAd("midgame")}},{key:"showRewarded",value:function(){kr(this,Dr,!0),this._platformSdk.requestAd("rewarded")}}])&&br(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(Q);function jr(e){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr(e)}function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Br(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Br(n.key),n)}}function Br(e){var t=function(e,t){if("object"!==jr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jr(t)?t:String(t)}function Nr(){return Nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Nr.apply(this,arguments)}function Cr(e,t){return Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cr(e,t)}function Mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gr(e){return Gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gr(e)}var Fr=new WeakSet;function zr(){var e=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized="false"===this._platformSdk.options.guest,new Promise((function(t){e._platformSdk.getUsers([e._playerId],(function(r,n){if(r&&1===r.length){var o=r[0];e._playerName=o.full_name,""!==o.avatar&&(e._playerPhotos=[o.avatar])}t()}))}))}const Wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cr(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gr(o);if(i){var r=Gr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===jr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mr(e)}(this,e)});function c(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=Mr(e=a.call.apply(a,[this].concat(o))),r=Fr),r.add(t),e}return t=c,(r=[{key:"platformId",get:function(){return n.ABSOLUTE_GAMES}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"initialize",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y);return t||(t=this._createPromiseDecorator(y),$("https://unpkg.com/@agru/sdk/dist/umd/index.min.js").then((function(){e._platformSdk=new AgRuSdk,e._platformSdk.on(AgRuSdkMethods.ShowCampaign,(function(t,r){switch(t.type){case"default":null===r?t.status?e._setInterstitialState(u.OPENED):e._setInterstitialState(u.CLOSED):e._setInterstitialState(u.FAILED);break;case"rewarded":null===r?t.status?e._setRewardedState(s.OPENED):(t.reward&&e._setRewardedState(s.REWARDED),e._setRewardedState(s.CLOSED)):e._setRewardedState(s.FAILED)}}));var t=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(e,Fr,zr).call(e);Promise.all([t]).finally((function(){e._isInitialized=!0,e._defaultStorageType=e._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE,e._resolvePromiseDecorator(y)}))}))),t.promise}},{key:"authorizePlayer",value:function(e){var t=this;if(this._isPlayerAuthorized)return Promise.resolve();var r=this._getPromiseDecorator(d);return r||(r=this._createPromiseDecorator(d),this._platformSdk.authorize((function(e,r){null===r?t._resolvePromiseDecorator(d):t._rejectPromiseDecorator(d,r)}))),r.promise}},{key:"isStorageSupported",value:function(e){return e===l.PLATFORM_INTERNAL||Nr(Gr(c.prototype),"isStorageSupported",this).call(this,e)}},{key:"isStorageAvailable",value:function(e){return e===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:Nr(Gr(c.prototype),"isStorageAvailable",this).call(this,e)}},{key:"getDataFromStorage",value:function(e,t){var r=this;return t===l.PLATFORM_INTERNAL?new Promise((function(t,n){if(r._platformStorageCachedData){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a=void 0===r._platformStorageCachedData[e[i]]?null:r._platformStorageCachedData[e[i]];o.push(a)}return void t(o)}t(void 0===r._platformStorageCachedData[e]?null:r._platformStorageCachedData[e])}else r._isPlayerAuthorized?r._platformSdk.getSaveData((function(o,i){if(null===i){if(null===o&&(o={}),r._platformStorageCachedData=o,Array.isArray(e)){for(var a=[],u=0;u<e.length;u++){var s=void 0===r._platformStorageCachedData[e[u]]?null:r._platformStorageCachedData[e[u]];a.push(s)}return void t(a)}t(void 0===r._platformStorageCachedData[e]?null:r._platformStorageCachedData[e])}else n(i)})):n()})):Nr(Gr(c.prototype),"getDataFromStorage",this).call(this,e,t)}},{key:"setDataToStorage",value:function(e,t,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?Rr({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.setSaveData(i,(function(e,t){null===t&&(n._platformStorageCachedData=i,r()),o(t)}))}else o()})):Nr(Gr(c.prototype),"setDataToStorage",this).call(this,e,t,r)}},{key:"deleteDataFromStorage",value:function(e,t){var r=this;return t===l.PLATFORM_INTERNAL?new Promise((function(t,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?Rr({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.setSaveData(o,(function(e,i){null===i&&(r._platformStorageCachedData=o,t()),n(i)}))}else n()})):Nr(Gr(c.prototype),"deleteDataFromStorage",this).call(this,e,t)}},{key:"showInterstitial",value:function(){this._platformSdk.showCampaign("default")}},{key:"showRewarded",value:function(){this._platformSdk.showCampaign("rewarded")}}])&&Lr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Q);function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}function Kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==xr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===xr(o)?o:String(o)),n)}var o}function Vr(e,t){return Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vr(e,t)}function Hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(e){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yr(e)}function Ur(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Jr(e,t,"set"),r),r}function qr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Jr(e,t,"get"))}function Jr(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Zr=new WeakMap;const Xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vr(e,t)}(f,e);var t,r,o,i,a=(o=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yr(o);if(i){var r=Yr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===xr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hr(e)}(this,e)});function f(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return t=Hr(e=a.call.apply(a,[this].concat(i))),n={writable:!0,value:!1},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r=Zr),r.set(t,n),e}return t=f,(r=[{key:"platformId",get:function(){return n.GAME_DISTRIBUTION}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y);if(!e)if(e=this._createPromiseDecorator(y),this._options&&"string"==typeof this._options.gameId){var t=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(e){switch(e.name){case"SDK_READY":t._platformSdk=window.gdsdk,t._platformSdk.preloadAd("rewarded"),t._isInitialized=!0,t._resolvePromiseDecorator(y);break;case"SDK_GAME_START":qr(t,Zr)?t._setRewardedState(s.CLOSED):t._setInterstitialState(u.CLOSED);break;case"SDK_GAME_PAUSE":qr(t,Zr)?t._setRewardedState(s.OPENED):t._setInterstitialState(u.OPENED);break;case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":break;case"SDK_REWARDED_WATCH_COMPLETE":t._setRewardedState(s.REWARDED)}}},this._defaultStorageType=l.LOCAL_STORAGE,this._isBannerSupported=!0,$("https://html5.api.gamedistribution.com/main.min.js")}else this._rejectPromiseDecorator(y,I);return e.promise}},{key:"showBanner",value:function(e){var t=this;e&&e.containerId&&"string"==typeof e.containerId?this._platformSdk.showAd("display",{containerId:e.containerId}).then((function(){t._setBannerState(c.SHOWN)})).catch((function(e){t._setBannerState(c.FAILED)})):this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){var e=this;Ur(this,Zr,!1),this._platformSdk?this._platformSdk.showAd().catch((function(t){e._setInterstitialState(u.FAILED)})):this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){var e=this;Ur(this,Zr,!0),this._platformSdk?this._platformSdk.showAd("rewarded").catch((function(t){e._setRewardedState(s.FAILED)})):this._setRewardedState(s.FAILED)}}])&&Kr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(Q);function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function $r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,an(n.key),n)}}function en(){return en="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},en.apply(this,arguments)}function tn(e,t){return tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tn(e,t)}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nn(e){return nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nn(e)}function on(e,t,r){return(t=an(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function an(e){var t=function(e,t){if("object"!==Qr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qr(t)?t:String(t)}function un(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sn(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function cn(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,ln(e,t,"set"),r),r}function ln(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var fn=new WeakMap,pn=new WeakSet;function yn(e,t){return Promise.reject()}const dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tn(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nn(o);if(i){var r=nn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rn(e)}(this,e)});function c(){for(var e,t,r,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),un(t=rn(e=a.call.apply(a,[this].concat(o))),r=pn),r.add(t),function(e,t,r){un(e,t),t.set(e,{writable:!0,value:!1})}(rn(e),fn),on(rn(e),"initMetrica",(function(e){var t;!function(e,t,r,n,o,i,a){e[o]=e[o]||function(){(e[o].a=e[o].a||[]).push(arguments)},e[o].l=1*new Date;for(var u=0;u<document.scripts.length;u++)if(document.scripts[u].src===n)return;var s=[1,n];(i=t.createElement(r)).async=s[0],i.src=s[1],(a=t.getElementsByTagName(r)[0]).parentNode.insertBefore(i,a)}(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(e,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0}),document.head.appendChild(document.createElement("noscript").appendChild(document.createElement("div").appendChild(t=document.createElement("img")).parentNode).parentNode);var r=["https://mc.yandex.ru/watch/".concat(e),"position: absolute; left: -9999px;",""];t.src=r[0],t.style=r[1],t.alt=r[2]})),on(rn(e),"metrikaGoal",(function(e){return"undefined"==typeof ym?(Add.debug("ym не найден!",e),!1):(ym(this.id,"reachGoal",e),Add.debug("Выполнена цель:",e),!0)})),e}return t=c,(r=[{key:"platformId",get:function(){return n.VKPLAY}},{key:"platformLanguage",get:function(){var e=new URL(window.location.href);try{if(e.searchParams.has("lang")){var t=e.searchParams.get("lang");if(2===t.length)return t;if(t.length>2)return t.substring(0,2)}}catch(e){return en(nn(c.prototype),"platformLanguage",this)}return en(nn(c.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var e=new URL(window.location.href);return e.searchParams.has("payload")?e.searchParams.get("payload"):en(nn(c.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){return en(nn(c.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var e,t=this._getPromiseDecorator(y);if(!t)if(t=this._createPromiseDecorator(y),this._options&&"string"==typeof this._options.gameId){var r=this,n=r._options.gameId,o="https://vkplay.ru/app/[GMRID]/static/mailru.core.js".replace("[GMRID]",n);this._defaultStorageType=l.LOCAL_STORAGE,this._isBannerSupported=!1,this._options&&"string"==typeof this._options.metrikaId&&(e=this._options.metrikaId,new Promise((function(t){var r="window.yandexMetricaCounterId = {{{METRIKA_ID}}};\n";r=r.replaceAll("{{{METRIKA_ID}}}",e);var n=document.createElement("script");n.type="text/javascript",n.text=r,document.head.appendChild(n);var o='(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym({{{METRIKA_ID}}}, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});';o=o.replace("{{{METRIKA_ID}}}",e),console.log("Create Metrika Script\n"+o);var i=document.createElement("script");i.type="text/javascript",i.text=o,i.addEventListener("load",t),document.head.appendChild(i);var a='<div><img src="https://mc.yandex.ru/watch/{{{METRIKA_ID}}}" style="position:absolute; left:-9999px;" alt="" /></div>';a=a.replace("{{{METRIKA_ID}}}",e);var u=document.createElement("noscript");u.innerHTML=a,document.head.appendChild(u)}))),$(o).then((function(){"undefined"!=typeof iframeApi?iframeApi({appid:n,getLoginStatusCallback:function(e){},userInfoCallback:function(e){},userProfileCallback:function(e){},registerUserCallback:function(e){},paymentFrameUrlCallback:function(e){},getAuthTokenCallback:function(e){},paymentReceivedCallback:function(e){},paymentWindowClosedCallback:function(){},userConfirmCallback:function(){},paymentFrameItem:function(e){},getGameInventoryItems:function(){},adsCallback:function(e){var t;!function(e,t){return t.get?t.get.call(e):t.value}(t=r,ln(t,fn,"get"))?"adCompleted"===e.type||"adDismissed"===e.type?r._setInterstitialState(u.CLOSED):"adError"===e.type&&r._setInterstitialState(u.ERROR):"adCompleted"===e.type?(r._setRewardedState(s.REWARDED),r._setRewardedState(s.CLOSED)):"adDismissed"===e.type?r._setRewardedState(s.CLOSED):"adError"===e.type&&r._setRewardedState(s.ERROR)}}).then((function(e){r._platformSdk=e,r._isInitialized=!0,r._resolvePromiseDecorator(y)}),(function(e){this._rejectPromiseDecorator(y,"Could not init external api "+e)})):console.log("Cannot find iframeApi function, are we inside an iframe?")}))}else this._rejectPromiseDecorator(y,ERROR.GAME_DISTRIBUTION_GAME_ID_IS_UNDEFINED);return t.promise}},{key:"authorizePlayer",value:function(e){return Promise.reject()}},{key:"isStorageSupported",value:function(e){return e===l.PLATFORM_INTERNAL||en(nn(c.prototype),"isStorageSupported",this).call(this,e)}},{key:"isStorageAvailable",value:function(e){return e===l.PLATFORM_INTERNAL||en(nn(c.prototype),"isStorageAvailable",this).call(this,e)}},{key:"getDataFromStorage",value:function(e,t){return en(nn(c.prototype),"getDataFromStorage",this).call(this,e,t)}},{key:"setDataToStorage",value:function(e,t,r){return en(nn(c.prototype),"setDataToStorage",this).call(this,e,t,r)}},{key:"deleteDataFromStorage",value:function(e,t){return en(nn(c.prototype),"deleteDataFromStorage",this).call(this,e,t)}},{key:"showBanner",value:function(e){}},{key:"hideBanner",value:function(){}},{key:"showInterstitial",value:function(){cn(this,fn,!1),this._platformSdk.showAds({interstitial:!0}),this._setInterstitialState(u.OPENED)}},{key:"showRewarded",value:function(){cn(this,fn,!0),this._platformSdk.showAds({interstitial:!1}),this._setRewardedState(s.OPENED)}},{key:"inviteFriends",value:function(){return sn(this,pn,yn).call(this,m,"VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(e){if(!e||!e.groupId)return Promise.reject();var t=e.groupId;return"string"==typeof t&&(t=parseInt(t),isNaN(t))?Promise.reject():sn(this,pn,yn).call(this,v,"VKWebAppJoinGroup",{group_id:t}).then((function(){window.open("https://vk.com/public"+t)}))}},{key:"share",value:function(e){var t={};return e&&e.link&&(t.link=e.link),sn(this,pn,yn).call(this,h,"VKWebAppShare",t,"type")}},{key:"createPost",value:function(e){var t={};return e&&e.message&&(t.message=e.message),e&&e.attachments&&(t.attachments=e.attachments),sn(this,pn,yn).call(this,b,"VKWebAppShowWallPostBox",t,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported,Promise.reject()}},{key:"addToFavorites",value:function(){return sn(this,pn,yn).call(this,_,"VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(e){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!e||!e.userResult)return Promise.reject();var t={user_result:e.userResult};return"boolean"==typeof e.global&&(t.global=e.global?1:0),Promise.reject()}}])&&$r(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Q);function hn(e){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(e)}function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bn(n.key),n)}}function bn(e){var t=function(e,t){if("object"!==hn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hn(t)?t:String(t)}function gn(e,t){Sn(e,t),t.add(e)}function _n(e,t,r){Sn(e,t),t.set(e,r)}function Sn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wn(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,En(e,t,"set"),r),r}function Pn(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function kn(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,En(e,t,"get"))}function En(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}e=r.hmd(e);var On=new WeakMap,An=new WeakMap,Dn=new WeakMap,Tn=new WeakMap,jn=new WeakMap,In=new WeakSet,Rn=new WeakSet;function Ln(){var e=n.MOCK;if(this._options&&this._options.forciblySetPlatformId)switch(this._options.forciblySetPlatformId){case n.VK:e=n.VK;break;case n.YANDEX:e=n.YANDEX;break;case n.CRAZY_GAMES:e=n.CRAZY_GAMES;break;case n.ABSOLUTE_GAMES:e=n.ABSOLUTE_GAMES;break;case n.GAME_DISTRIBUTION:e=n.GAME_DISTRIBUTION;break;case n.VKPLAY:e=n.VKPLAY}else{var t=new URL(window.location.href),r=["y","a","n","d","e","x",".","n","e","t"].join("");t.hostname.includes(r)||t.hash.includes("yandex")?e=n.YANDEX:t.hostname.includes("crazygames.")||t.hostname.includes("1001juegos.com")?e=n.CRAZY_GAMES:t.hostname.includes("gamedistribution.com")?e=n.GAME_DISTRIBUTION:t.searchParams.has("api_id")&&t.searchParams.has("viewer_id")&&t.searchParams.has("auth_key")?e=n.VK:t.searchParams.has("app_id")&&t.searchParams.has("player_id")&&t.searchParams.has("game_sid")&&t.searchParams.has("auth_key")?e=n.ABSOLUTE_GAMES:(t.searchParams.has("ab_target_platform_id")&&"vkplay"===t.searchParams.get("ab_target_platform_id")||t.searchParams.has("lang")&&t.searchParams.has("currency")&&t.searchParams.has("status"))&&(e=n.VKPLAY)}switch(e){case n.VK:wn(this,Dn,new ye(this._options&&this._options.platforms&&this._options.platforms[n.VK]));break;case n.YANDEX:wn(this,Dn,new Ne(this._options&&this._options.platforms&&this._options.platforms[n.YANDEX]));break;case n.CRAZY_GAMES:wn(this,Dn,new Tr(this._options&&this._options.platforms&&this._options.platforms[n.CRAZY_GAMES]));break;case n.ABSOLUTE_GAMES:wn(this,Dn,new Wr(this._options&&this._options.platforms&&this._options.platforms[n.ABSOLUTE_GAMES]));break;case n.GAME_DISTRIBUTION:wn(this,Dn,new Xr(this._options&&this._options.platforms&&this._options.platforms[n.GAME_DISTRIBUTION]));break;case n.MOCK:wn(this,Dn,new Q);break;case n.VKPLAY:wn(this,Dn,new dn(this._options&&this._options.platforms&&this._options.platforms[n.VKPLAY]))}}function Bn(e){return kn(this,On)||console.error(T),kn(this,jn)[e]?kn(this,jn)[e]:kn(this,Tn)[e]}const Nn=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gn(this,Rn),gn(this,In),_n(this,On,{writable:!0,value:!1}),_n(this,An,{writable:!0,value:null}),_n(this,Dn,{writable:!0,value:null}),_n(this,Tn,{writable:!0,value:{}}),_n(this,jn,{writable:!0,value:{}})}var r,y;return r=t,y=[{key:"version",get:function(){return"1.10.0"}},{key:"isInitialized",get:function(){return kn(this,On)}},{key:"platform",get:function(){return Pn(this,Rn,Bn).call(this,o.PLATFORM)}},{key:"player",get:function(){return Pn(this,Rn,Bn).call(this,o.PLAYER)}},{key:"game",get:function(){return Pn(this,Rn,Bn).call(this,o.GAME)}},{key:"storage",get:function(){return Pn(this,Rn,Bn).call(this,o.STORAGE)}},{key:"advertisement",get:function(){return Pn(this,Rn,Bn).call(this,o.ADVERTISEMENT)}},{key:"social",get:function(){return Pn(this,Rn,Bn).call(this,o.SOCIAL)}},{key:"device",get:function(){return Pn(this,Rn,Bn).call(this,o.DEVICE)}},{key:"leaderboard",get:function(){return Pn(this,Rn,Bn).call(this,o.LEADERBOARD)}},{key:"payments",get:function(){return Pn(this,Rn,Bn).call(this,o.PAYMENTS)}},{key:"PLATFORM_ID",get:function(){return n}},{key:"PLATFORM_MESSAGE",get:function(){return p}},{key:"MODULE_NAME",get:function(){return o}},{key:"EVENT_NAME",get:function(){return i}},{key:"INTERSTITIAL_STATE",get:function(){return u}},{key:"REWARDED_STATE",get:function(){return s}},{key:"BANNER_STATE",get:function(){return c}},{key:"STORAGE_TYPE",get:function(){return l}},{key:"VISIBILITY_STATE",get:function(){return a}},{key:"DEVICE_TYPE",get:function(){return f}},{key:"initialize",value:function(e){var t=this;return kn(this,On)?Promise.resolve():(kn(this,An)||(wn(this,An,new W),this._options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=bn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),Pn(this,In,Ln).call(this),kn(this,Dn).initialize().then((function(){kn(t,Tn)[o.PLATFORM]=new Ve(kn(t,Dn)),kn(t,Tn)[o.PLAYER]=new Je(kn(t,Dn)),kn(t,Tn)[o.GAME]=new tt(kn(t,Dn)),kn(t,Tn)[o.STORAGE]=new ct(kn(t,Dn)),kn(t,Tn)[o.ADVERTISEMENT]=new Zt(kn(t,Dn)),kn(t,Tn)[o.SOCIAL]=new tr(kn(t,Dn)),kn(t,Tn)[o.DEVICE]=new ar(kn(t,Dn)),kn(t,Tn)[o.LEADERBOARD]=new fr(kn(t,Dn)),kn(t,Tn)[o.PAYMENTS]=new mr(kn(t,Dn)),wn(t,On,!0),console.log("%c InstantGamesBridge v."+t.version+" initialized. ","background: #01A5DA; color: white"),kn(t,An)&&(kn(t,An).resolve(),wn(t,An,null))}))),kn(this,An).promise)}},{key:"overrideModule",value:function(t,r){"object"===hn(r)&&(kn(this,jn)[t]=r,"function"==typeof r.initialize&&r.initialize(e))}}],y&&vn(r.prototype,y),Object.defineProperty(r,"prototype",{writable:!1}),t}()},258:e=>{!function(t){e.exports=t;var r="listeners",n={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,a(r,e).push(n),r;function n(){i.call(r,e,n),t.apply(this,arguments)}},off:i,emit:function(e,t){var r=this,n=a(r,e,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(e){e.call(r)}));else if(2===o)n.forEach((function(e){e.call(r,t)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(e){e.apply(r,i)}))}return!!n.length}};function o(e){for(var t in n)e[t]=n[t];return e}function i(e,t){var n,o=this;if(arguments.length){if(t){if(n=a(o,e,!0)){if(!(n=n.filter((function(e){return e!==t&&e.originalListener!==t}))).length)return i.call(o,e);o[r][e]=n}}else if((n=o[r])&&(delete n[e],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(e,t,n){if(!n||e[r]){var o=e[r]||(e[r]={});return o[t]||(o[t]=[])}}o(t.prototype),t.mixin=o}((function e(){if(!(this instanceof e))return new e}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(757);window.instantGamesBridge=window.bridge=new e.Z})()})();